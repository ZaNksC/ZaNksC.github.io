<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>JWTè®¤è¯æœºåˆ¶å®è·µ | ä¹±è¯ä¸‰åƒ</title>
<meta name="start-time" content="2025-01-01 00:00:00"><meta name="home-page-content" content="çç¢çš„æ—¥å¸¸ã€è‚¤æµ…çš„æ€è€ƒä¸å¹¶ä¸ç²¾æ¹›çš„æŠ€æœ¯">

<link rel="shortcut icon" href="" type="image/x-icon">
<link rel="icon" href="" type="image/x-icon"><meta name="twikoo-env-id" content="https://zanks-twikoo.netlify.app/.netlify/functions/twikoo">

<link rel="stylesheet" href="/css/about.min.12190c71e56e33e190a889d51bd5b097146d1b0a3ad2bf7586b46b19f497b24e.css" integrity="sha256-EhkMceVuM&#43;GQqInVG9WwlxRtGwo60r91hrRrGfSXsk4=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/announcement.min.4aa56228e8aaec652528ee567a608c64629a0eb2d9de7403daec6ea5e97aa9cc.css" integrity="sha256-SqViKOiq7GUlKO5WemCMZGKaDrLZ3nQD2uxupel6qcw=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/archive.min.105fe00e83b2d8fbb6211de8fc8008f2ff98f35e82e08ead74d6ef67529662dd.css" integrity="sha256-EF/gDoOy2Pu2IR3o/IAI8v&#43;Y816C4I6tdNbvZ1KWYt0=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/author-info.min.dc87bcd3f028c2dde3ea16d085e5717eeafcd00682a5fcfcc21169e64afe527a.css" integrity="sha256-3Ie80/Aowt3j6hbQheVxfur80AaCpfz8whFp5kr&#43;Uno=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/authors.min.ea4efdff1158f97241ec30e87f98e5c8772e40d1f596ac9c2b9203ad6848ef2c.css" integrity="sha256-6k79/xFY&#43;XJB7DDof5jlyHcuQNH1lqycK5IDrWhI7yw=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/basic.min.b91ca6f42c8c319600a1d1369ebb15cb98d1825ca614bd72c4a4457e2c041d0d.css" integrity="sha256-uRym9CyMMZYAodE2nrsVy5jRglymFL1yxKRFfiwEHQ0=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/chirp.min.212e3949fb22cfda100fbee1257eddf2dd1bdee5daada1ce74ec6d384ee79be1.css" integrity="sha256-IS45Sfsiz9oQD77hJX7d8t0b3uXaraHOdOxtOE7nm&#43;E=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/comments.min.e4171beb72736744a3f6c50c2b4fdfeef88e2a56c8a4b8ef3615e98ef2e23dc6.css" integrity="sha256-5Bcb63JzZ0Sj9sUMK0/f7viOKlbIpLjvNhXpjvLiPcY=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/copyright.min.cc055a71e31b212da911bb0f8acdcab692717a022a831e57e3027a2736425459.css" integrity="sha256-zAVaceMbIS2pEbsPis3KtpJxegIqgx5X4wJ6JzZCVFk=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/friends.min.86e876c797fe282e0dcac6cefcc90599f5280368e3310615fa98622e587d58be.css" integrity="sha256-huh2x5f&#43;KC4NysbO/MkFmfUoA2jjMQYV&#43;phiLlh9WL4=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/goto-next.min.21d9b5d78d24a69c6f8bd2ca32bb0013392be06c27a077386c4906a515b1fb90.css" integrity="sha256-Idm1140kppxvi9LKMrsAEzkr4GwnoHc4bEkGpRWx&#43;5A=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/header.min.f5db73278da983c7a2115f617aa37c62bcea954189500dd97c03196296fd3968.css" integrity="sha256-9dtzJ42pg8eiEV9heqN8YrzqlUGJUA3ZfAMZYpb9OWg=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/home.min.199221816490e0948ddacd2bb28fd264331abc8fc80781ed3855a80b781f6cfc.css" integrity="sha256-GZIhgWSQ4JSN2s0rso/SZDMavI/IB4HtOFWoC3gfbPw=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/last-update.min.d1b9fb9c3f03856abc897283724600e0ae25d4fdd9e87081befb3b8b5b7bf8b7.css" integrity="sha256-0bn7nD8DhWq8iXKDckYA4K4l1P3Z6HCBvvs7i1t7&#43;Lc=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/list-post.min.369fcddcc2fda2b18ce670202e78a3a3fe0d158fff89a7d128842ff9bd36af39.css" integrity="sha256-Np/N3ML9orGM5nAgLnijo/4NFY//iafRKIQv&#43;b02rzk=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/list.min.ba6eece6ea29ba755d3d4989c14ff1c730c9a68122468f841675efd689ad72f7.css" integrity="sha256-um7s5uopunVdPUmJwU/xxzDJpoEiRo&#43;EFnXv1omtcvc=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/main.min.22aa6a071c63e010d1cd98165743c8f42a80a24fb0fc48bb9104b54f29e6a3db.css" integrity="sha256-IqpqBxxj4BDRzZgWV0PI9CqAok&#43;w/Ei7kQS1Tynmo9s=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/md.min.0e3575794d5fa5e3232de59e26050171a86cece8310668ab3836f12010826b17.css" integrity="sha256-DjV1eU1fpeMjLeWeJgUBcahs7OgxBmirODbxIBCCaxc=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/menu.min.f38cd69111b7a83bdbca2c301f67c54bc7847378e4f524d091025ff147f29146.css" integrity="sha256-84zWkRG3qDvbyiwwH2fFS8eEc3jk9STQkQJf8UfykUY=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/page.min.327faf4b56f53f360d59c9ec4ebc3e459780d6081f93e8d2632a521705b75684.css" integrity="sha256-Mn&#43;vS1b1PzYNWcnsTrw&#43;RZeA1ggfk&#43;jSYypSFwW3VoQ=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/post-meta.min.dec6e55761a93b5cb004630e45bf1f35f3cbd5bf1be9627f2300be018b79d7f2.css" integrity="sha256-3sblV2GpO1ywBGMORb8fNfPL1b8b6WJ/IwC&#43;AYt51/I=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/series.min.0799dc729adae96e53d701b67338fe8813c524af9865e486a7c4b1fc27ef5939.css" integrity="sha256-B5nccpra6W5T1wG2czj&#43;iBPFJK&#43;YZeSGp8Sx/CfvWTk=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/single.min.3ff6ce6e3d31ad816892121f42231c605fde782668642ee865fc60f5c754bf9f.css" integrity="sha256-P/bObj0xrYFokhIfQiMcYF/eeCZoZC7oZfxg9cdUv58=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/site-info.min.99f7ea72487d21367994413cf28009c799038172b9fa27de1e78d6bc025a1baa.css" integrity="sha256-mffqckh9ITZ5lEE88oAJx5kDgXK5&#43;ifeHnjWvAJaG6o=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/square-stamp.min.052f66f4444fd26d1d4f65b608c278bab47207595010a6d51b0d5cfc318009a3.css" integrity="sha256-BS9m9ERP0m0dT2W2CMJ4urRyB1lQEKbVGw1c/DGACaM=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/tags.min.01948be497fb7f68e7327070ba65a644286938095ca3199e4079a649e96f87f4.css" integrity="sha256-AZSL5Jf7f2jnMnBwumWmRChpOAlcoxmeQHmmSelvh/Q=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/terms-tags.min.330c7f245c68d21a893b6a4e9cb468f37bc9cc8495224e89a38c384e545aa25d.css" integrity="sha256-Mwx/JFxo0hqJO2pOnLRo83vJzISVIk6Jo4w4TlRaol0=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/theme-default.min.0b3ff38640978734f53feac60472daeff6ef928826170ed107b752863781be35.css" integrity="sha256-Cz/zhkCXhzT1P&#43;rGBHLa7/bvkogmFw7RB7dShjeBvjU=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/toc.min.97935001d1c901f611b9a21cb1e0b103af62ffd1c8dca20518900dacb2af7968.css" integrity="sha256-l5NQAdHJAfYRuaIcseCxA69i/9HI3KIFGJANrLKveWg=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/third-party/swiper-bundle.min.min.5983c13a687fefa51ed8c90899af9d232c7cf661ce4b8227d98b68044c7b43d5.css" integrity="sha256-WYPBOmh/76Ue2MkIma&#43;dIyx89mHOS4In2YtoBEx7Q9U=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/admonition.min.f4a992ecbdf33356f956629da0ed1e6a1c3700c23e901f83fd25070b58ed62ad.css" integrity="sha256-9KmS7L3zM1b5VmKdoO0eahw3AMI&#43;kB&#43;D/SUHC1jtYq0=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/card-list.min.d048865f3bf7e4ff9ef02b02bf00eaa9f452e4344b9ed9a76b8da30f346cffc7.css" integrity="sha256-0EiGXzv35P&#43;e8CsCvwDqqfRS5DRLntmna42jDzRs/8c=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/cat-food.min.937b857e1e174f486230b88c24ce68adae93fe5b7100f9ef094f56630f8ae269.css" integrity="sha256-k3uFfh4XT0hiMLiMJM5ora6T/ltxAPnvCU9WYw&#43;K4mk=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/creditcard.min.68d27bb753acf07f32d5e78b500b9be38c2996551cc64f64c5733249d4f02e95.css" integrity="sha256-aNJ7t1Os8H8y1eeLUAub44wpllUcxk9kxXMySdTwLpU=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/device.min.9133cc45f7642818223058db18b500a37c8207f6e01cc359a17e0c0fcb9eb7b6.css" integrity="sha256-kTPMRfdkKBgiMFjbGLUAo3yCB/bgHMNZoX4MD8uet7Y=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/git.min.250fa59fcc440a058ca2862e8d3e4eebfdcb7e7de571b796d8d87b6b7637d992.css" integrity="sha256-JQ&#43;ln8xECgWMooYujT5O6/3Lfn3lcbeW2Nh7a3Y32ZI=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/shortcode/link.min.6fdde88b1fa21ebc3f83181eb89afaa3c63bc61806c0aae2c28edfc6eaab4f2e.css" integrity="sha256-b93oix&#43;iHrw/gxgeuJr6o8Y7xhgGwKriwo7fxuqrTy4=" crossorigin="anonymous"><link rel="preload" href="/css/theme/github.min.1bebd3859a97fa10cb230aa9eba85751895a0c2221711d299dd7d9807c546d65.css" as="style">
<link rel="preload" href="/css/theme/github-dark.min.a2843de5d40c4736eecaaad3cc67aa464147149e3051f1fb8328d98364348a33.css" as="style">
<link rel="preload" href="/css/theme/twikoo-github.min.fb310c5b466f7eede3bb7899dd4070b393ffe16e70ba9eb3ccf7af3818b50b6f.css" as="style">
<link rel="preload" href="/css/theme/twikoo-github-dark.min.16f26cba66c515e1b0052f72653bdd21499881d8d792db895cb914dd99992ecb.css" as="style">

<link rel="stylesheet" href="/css/theme/github.min.1bebd3859a97fa10cb230aa9eba85751895a0c2221711d299dd7d9807c546d65.css" id="hl-github-css" media="all">
<link rel="stylesheet" href="/css/theme/github-dark.min.a2843de5d40c4736eecaaad3cc67aa464147149e3051f1fb8328d98364348a33.css" id="hl-github-dark-css" media="all" disabled>
<link rel="stylesheet" href="/css/theme/twikoo-github.min.fb310c5b466f7eede3bb7899dd4070b393ffe16e70ba9eb3ccf7af3818b50b6f.css" id="twikoo-github-css" media="all">
<link rel="stylesheet" href="/css/theme/twikoo-github-dark.min.16f26cba66c515e1b0052f72653bdd21499881d8d792db895cb914dd99992ecb.css" id="twikoo-github-dark-css" media="all" disabled>




<script src="/js/bundle.82b80aadc8fc135a902b9ab3a87c07ac78d195c61ca975dd7357706c8abbb0ff.js" integrity="sha256-grgKrcj8E1qQK5qzqHwHrHjRlcYcqXXdc1dwbIq7sP8=" crossorigin="anonymous"></script>












<link rel="stylesheet" href="/css/third-party/swiper-bundle.min.css" />
<script src="/js/third-party/swiper-bundle.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/typeit@6.1.1/dist/typeit.min.js"></script>


<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css" />


<script src="/js/third-party/wordcloud2.js"></script>


<script src="https://kit.fontawesome.com/4f00e1f6e6.js" crossorigin="anonymous"></script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-420MPRSEER"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-420MPRSEER');
</script>

</head>
<body>
  <header>
    <div class="header-container">
    <div class="header-title-container" >
        <a class="site-title-container" href="/">
            <div class="header-icon">
                <img class="header-icon" src="/assets/favicon.ico">
            </div>
            <div class="header-title">ä¹±è¯ä¸‰åƒ</div>
        </a>
        
        <div class="toggle" id="toggle-button">
            <div id="light-mode-icon" class="toggle-icon active"><span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M28.0527 4.41085C22.5828 5.83695 18.5455 10.8106 18.5455 16.7273C18.5455 23.7564 24.2436 29.4545 31.2727 29.4545C37.1894 29.4545 42.1631 25.4172 43.5891 19.9473C43.8585 21.256 44 22.6115 44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C25.3885 4 26.744 4.14149 28.0527 4.41085Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/></svg>
</span></div>
            <div id="dark-mode-icon" class="toggle-icon"><span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M24 37C31.1797 37 37 31.1797 37 24C37 16.8203 31.1797 11 24 11C16.8203 11 11 16.8203 11 24C11 31.1797 16.8203 37 24 37Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/><path fill="currentColor" d="M24 6C25.3807 6 26.5 4.88071 26.5 3.5C26.5 2.11929 25.3807 1 24 1C22.6193 1 21.5 2.11929 21.5 3.5C21.5 4.88071 22.6193 6 24 6Z" fill="#333"/><path fill="currentColor" d="M38.5 12C39.8807 12 41 10.8807 41 9.5C41 8.11929 39.8807 7 38.5 7C37.1193 7 36 8.11929 36 9.5C36 10.8807 37.1193 12 38.5 12Z" fill="#333"/><path fill="currentColor" d="M44.5 26.5C45.8807 26.5 47 25.3807 47 24C47 22.6193 45.8807 21.5 44.5 21.5C43.1193 21.5 42 22.6193 42 24C42 25.3807 43.1193 26.5 44.5 26.5Z" fill="#333"/><path fill="currentColor" d="M38.5 41C39.8807 41 41 39.8807 41 38.5C41 37.1193 39.8807 36 38.5 36C37.1193 36 36 37.1193 36 38.5C36 39.8807 37.1193 41 38.5 41Z" fill="#333"/><path fill="currentColor" d="M24 47C25.3807 47 26.5 45.8807 26.5 44.5C26.5 43.1193 25.3807 42 24 42C22.6193 42 21.5 43.1193 21.5 44.5C21.5 45.8807 22.6193 47 24 47Z" fill="#333"/><path fill="currentColor" d="M9.5 41C10.8807 41 12 39.8807 12 38.5C12 37.1193 10.8807 36 9.5 36C8.11929 36 7 37.1193 7 38.5C7 39.8807 8.11929 41 9.5 41Z" fill="#333"/><path fill="currentColor" d="M3.5 26.5C4.88071 26.5 6 25.3807 6 24C6 22.6193 4.88071 21.5 3.5 21.5C2.11929 21.5 1 22.6193 1 24C1 25.3807 2.11929 26.5 3.5 26.5Z" fill="#333"/><path fill="currentColor" d="M9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.11929 10.8807 7 9.5 7C8.11929 7 7 8.11929 7 9.5C7 10.8807 8.11929 12 9.5 12Z" fill="#333"/></svg>
</span></div>
        </div>
    </div>
    <div class="header-center-container">
        <div class="header-center-board">
            <span id="header-center-text"></span>
        </div>
        <div class="header-center-typeit-board">
            <span id="header-type-it"></span>
        </div>
    </div>
    <div class="mobile-menu-btn" aria-label="å¯¼èˆªèœå•">â˜°</div>
    <div class="nav-container">
        
  <nav>
    <ul>
    
    <li>
      <a href="/posts/">ğŸ“– æ–‡ç« </a>
        <ul>
    <li>
      <a href="/tags/">ğŸ·ï¸ æ ‡ç­¾</a>
    </li>
    <li>
      <a href="/categories/">ğŸ”– åˆ†ç±»</a>
    </li>
    <li>
      <a href="/archive/">ğŸ“œ å½’æ¡£</a>
    </li>
        </ul>
    </li>
    <li>
      <a href="/friends/">ğŸ¤ å‹é“¾</a>
    </li>
    <li>
      <a href="/chirp/">ğŸ’¬ ç¢ç¢å¿µ</a>
    </li>
    <li>
      <a href="/about/">ğŸ˜¾ å…³äº</a>
    </li>
    </ul>
  </nav>

    </div>
</div>

  </header>
  <main>
    






<div class="single-container fund-padding-top">
    
    <div class="single-cover-bg" style="
        background:
        linear-gradient(to bottom, var(--backgroud--mask-alpha80), var(--backgroud--mask-alpha20)),
        url(https://zanks1996-1256221076.cos.ap-shanghai.myqcloud.com//piclistTemp/jwt-cover.webp);
        background-repeat: no-repeat;
        background-size: 100% 100%, cover;
        background-position: center, center;">
    </div>
    <div class="post-header">
        <div class="over-title-container">
            
            <div class="ori-icon">
                <img src="/images/default/ori.webp" />
            </div>
        </div>
        <div class="title">
            JWTè®¤è¯æœºåˆ¶å®è·µ
        </div>
        <div class="meta fund-secondary">
            <div class="meta-info">
                
<div class="post-meta-item" id="publish-date">
    <div class="post-meta-item-header" id="update-date"><span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48"><path fill="currentColor" stroke-linejoin="round" stroke-width="4" stroke="#333" d="M5 19h38v21a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V19ZM5 9a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v10H5V9Z" data-follow-stroke="#333"/><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M16 4v8M32 4v8M28 34h6M14 34h6M28 26h6M14 26h6" data-follow-stroke="#333"/></svg>
</span>å‘å¸ƒäº:
    </div>
    <span>
        2025-03-05
    </span>
</div>

<div class="post-meta-item">
    <div class="post-meta-item-header"><span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48"><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z" data-follow-stroke="#333"/><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M33.542 27c-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7v6M33.542 15v6c-1.274-4.057-5.064-7-9.542-7-4.477 0-8.268 2.943-9.542 7" data-follow-stroke="#333"/></svg>
</span>æ›´æ–°äº:
    </div><span>
        2025-03-14
    </span>
</div>



            </div>
            
<div class="authors">
    <span><span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#icon-6ffb2852696ccc)"><path fill="currentColor" d="M30.9995 8.99902L38.9995 16.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M7.99953 31.999L35.9994 4L43.9995 11.999L15.9995 39.999L5.99951 41.999L7.99953 31.999Z" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M30.9995 8.99902L38.9995 16.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M8.99951 31.999L15.9995 38.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M12.9995 34.999L34.9995 12.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></g><defs><clipPath id="icon-6ffb2852696ccc"><rect width="48" height="48" fill="#333"/></clipPath></defs></svg>
</span>ä½œè€…: </span>
    <div>
        
        <span>Za_Nks</span>
    </div>
</div>

            <div class="meta-info">
                
                <a href="/tags/java">#Java</a>
                
                <a href="/tags/springboot">#Spring boot</a>
                
                <a href="/tags/jwt">#JWT</a>
                
            </div>
        </div>
    </div>
    <div class="main-container">
        <div class="left-container fund-border">
            <div class="post-container" id="md-container">
                <div class="post-content">
                    <blockquote id="expiration-reminder">
                        <span style="font-size: 1.2rem">âš ï¸</span>
                        è¿™ç¯‡æ–‡ç« æœ€åæ›´æ–°å·²ç»è¶…è¿‡180å¤©äº†ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œå¦‚æœ‰æƒ³æ³•è¯·ç•™è¨€æˆ–é€šè¿‡å…¶å®ƒæ–¹æ³•ä¸æˆ‘äº¤æµã€‚
                    </blockquote>

                    <h1 id="å‰è¨€">å‰è¨€</h1>
<p>åœ¨æ¢³ç†å…¬å¸å†…ç³»ç»Ÿå¯¹äºRedisçš„ä½¿ç”¨æ—¶ï¼Œå‘ç°äº†éƒ¨é—¨å†…çš„å¼€å‘äººå‘˜å¯¹äºç™»å½•è®¤è¯è¿™ä¸ªæ¨¡å—çš„å®ç°è¿‡äºä¾èµ–Redisï¼Œå¹¶ä¸”å¯¹äºJWTçš„æœºåˆ¶å­˜åœ¨ä¸€äº›è¯¯è§£ã€‚åœ¨å®ç°æ—¶ï¼Œç™»å½•æˆåŠŸåï¼Œç”Ÿæˆä¸€ä¸ªTokenæ”¾åˆ°Redisä¸­ï¼Œå¹¶ä¸”è¿”å›ç»™å‰ç«¯ï¼Œè¦æ±‚å‰ç«¯æ¯æ¬¡è¯·æ±‚éƒ½æºå¸¦ã€‚åœ¨é‰´æƒæ ¡éªŒæ—¶ï¼Œä¸redisä¸­çš„å†…å®¹åšå­˜åœ¨å¯¹æ¯”ï¼Œæ¥å®ç°å¯¹äºèº«ä»½æ ¡éªŒã€‚Rediså……å½“äº†ç™»å½•çŠ¶æ€ä¿å­˜çš„ä½œç”¨ï¼Œä»¥è‡³äºRedisæ•…éšœåï¼Œæ‰€æœ‰æ¥å£éƒ½ä¼šé™·å…¥ç˜«ç—ªã€‚
æ”¶é›†äº†ä¸€äº›èµ„æ–™ï¼Œç»“åˆè‡ªå·±çš„ç†è§£å†™ä¸€ä¸‹åç»­éƒ¨é—¨å†…ç™»å½•è®¤è¯æ¨¡å—æ”¹é€ çš„æ–¹å‘ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æˆ‘è‡ªå·±é¡¹ç›®ä¸­ä½¿ç”¨çš„ç™»å½•è®¤è¯æ–¹å¼ã€‚</p>
<h1 id="jwtæœºåˆ¶">JWTæœºåˆ¶</h1>
<h2 id="jwtä»‹ç»">JWTä»‹ç»</h2>
<p>JWTï¼ˆJson Web Tokenï¼‰æ˜¯ä¸€ä¸ªåŸºäºTokençš„è®¤è¯æˆæƒæœºåˆ¶ã€‚JWTå…·å¤‡äº†å‡ ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>ç´§å‡‘æ€§ï¼š JWTé‡‡ç”¨Base64URLç¼–ç ï¼Œä½“ç§¯å°ï¼Œé€‚åˆHTTPä¼ è¾“ï¼ˆå¦‚URLå‚æ•°ã€Headeræˆ–POST bodyï¼‰</li>
<li>è‡ªåŒ…å«æ€§ï¼šä»¤ç‰Œæœ¬èº«åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·èº«ä»½ã€æƒé™ã€è¿‡æœŸæ—¶é—´ç­‰ï¼‰</li>
<li>å®‰å…¨æ€§ï¼š é‡‡ç”¨ç­¾åæ¥å®ç°é˜²ç¯¡æ”¹ï¼Œé‡‡ç”¨åŠ å¯†æ¥ä¿æŠ¤æ•°æ®å®ç°é˜²çªƒå¬</li>
</ul>
<p>åœ¨ <a href="https://datatracker.ietf.org/doc/html/rfc7519">RFC-7519</a> ä¸­ç»™å‡ºäº†å®šä¹‰ã€‚</p>
<blockquote>
<p>JSON Web Token (JWT) is a compact, URL-safe means of representing
claims to be transferred between two parties.  The claims in a JWT
are encoded as a JSON object that is used as the payload of a JSON
Web Signature (JWS) structure or as the plaintext of a JSON Web
Encryption (JWE) structure, enabling the claims to be digitally
signed or integrity protected with a Message Authentication Code
(MAC) and/or encrypted.</p>
</blockquote>
<h2 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h2>
<p>æ ‡å‡†çš„JWTç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<code>Header.Payload.Signature</code>ï¼Œä¸‰éƒ¨åˆ†çš„å†…å®¹å‡ä½¿ç”¨Base64URLç®—æ³•ç¼–ç åä½¿ç”¨ <code>.</code> æ‹¼æ¥ã€‚</p>
<ul>
<li>Headerï¼š ç”¨äºç”³æ˜ç±»å‹ä¸åŠ å¯†ç®—æ³•ï¼Œé€šå¸¸æ˜¯ä»¥ä¸‹ç»“æ„çš„Jsonæ–‡æœ¬</li>
</ul>



<div class="fund-code-container">
    <div class="fund-code-header">
        <div class="fund-code-header-left-container">
            <svg id="code-lights" xmlns="http://www.w3.org/2000/svg" version="1.1"  x="0px" y="0px" viewBox="0 0 450 130">
                <ellipse cx="65" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"/>
                <ellipse cx="225" cy="65" rx="50" ry="52"  stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"/>
                <ellipse cx="385" cy="65" rx="50" ry="52"  stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"/>
            </svg>
        </div>
        <div class="fund-code-header-mid-container">
            
            [ json ]
        </div>
        <div class="fund-code-header-right-container">
            <div class="fold-btn open">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M19 12L31 24L19 36" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
            </div>

            <div class="copy-btn">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M13 12.4316V7.8125C13 6.2592 14.2592 5 15.8125 5H40.1875C41.7408 5 43 6.2592 43 7.8125V32.1875C43 33.7408 41.7408 35 40.1875 35H35.5163" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M32.1875 13H7.8125C6.2592 13 5 14.2592 5 15.8125V40.1875C5 41.7408 6.2592 43 7.8125 43H32.1875C33.7408 43 35 41.7408 35 40.1875V15.8125C35 14.2592 33.7408 13 32.1875 13Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/></svg>
</span>
            </div>
        </div>
    </div>
    <div class="fund-code-content">
        <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln">1</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">  <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;HS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">  <span class="nt">&#34;typ&#34;</span><span class="p">:</span> <span class="s2">&#34;JWT&#34;</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
    </div>
</div><ul>
<li>Payloadï¼šç”¨äºä¿å­˜å†…å®¹ï¼Œé€šå¸¸ç”¨äºä¿å­˜ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†å’Œè¿‡æœŸæ—¶é—´ï¼Œæ¥å®ç°è®¤è¯
ä»¥ä¸‹æ˜¯å®˜æ–¹ç»™å‡ºçš„7ä¸ªé»˜è®¤å­—æ®µï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå®šä¹‰å­—æ®µã€‚</li>
</ul>



<div class="fund-code-container">
    <div class="fund-code-header">
        <div class="fund-code-header-left-container">
            <svg id="code-lights" xmlns="http://www.w3.org/2000/svg" version="1.1"  x="0px" y="0px" viewBox="0 0 450 130">
                <ellipse cx="65" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"/>
                <ellipse cx="225" cy="65" rx="50" ry="52"  stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"/>
                <ellipse cx="385" cy="65" rx="50" ry="52"  stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"/>
            </svg>
        </div>
        <div class="fund-code-header-mid-container">
            
            [ text ]
        </div>
        <div class="fund-code-header-right-container">
            <div class="fold-btn open">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M19 12L31 24L19 36" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
            </div>

            <div class="copy-btn">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M13 12.4316V7.8125C13 6.2592 14.2592 5 15.8125 5H40.1875C41.7408 5 43 6.2592 43 7.8125V32.1875C43 33.7408 41.7408 35 40.1875 35H35.5163" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M32.1875 13H7.8125C6.2592 13 5 14.2592 5 15.8125V40.1875C5 41.7408 6.2592 43 7.8125 43H32.1875C33.7408 43 35 41.7408 35 40.1875V15.8125C35 14.2592 33.7408 13 32.1875 13Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/></svg>
</span>
            </div>
        </div>
    </div>
    <div class="fund-code-content">
        <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="ln">1</span><span class="cl"> iss (issuer)ï¼šç­¾å‘äºº
</span></span><span class="line"><span class="ln">2</span><span class="cl"> exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´
</span></span><span class="line"><span class="ln">3</span><span class="cl"> sub (subject)ï¼šä¸»é¢˜
</span></span><span class="line"><span class="ln">4</span><span class="cl"> aud (audience)ï¼šå—ä¼—
</span></span><span class="line"><span class="ln">5</span><span class="cl"> nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´
</span></span><span class="line"><span class="ln">6</span><span class="cl"> iat (Issued At)ï¼šç­¾å‘æ—¶é—´
</span></span><span class="line"><span class="ln">7</span><span class="cl"> jti (JWT ID)ï¼šç¼–å·</span></span></code></pre></div>
    </div>
</div><p><strong>è¿™éƒ¨åˆ†çš„æ•°æ®å¹¶éä¸€å®šä¼šåŠ å¯†ï¼Œæ‰€ä»¥ä¸å»ºè®®åœ¨è¿™éƒ¨åˆ†å†…å®¹ä¸­ä¿å­˜æ•æ„Ÿä¿¡æ¯</strong></p>
<ul>
<li>Signatureï¼šç­¾åï¼Œç”¨äºä¿æŠ¤å‰ä¸¤çŸ­ä¿¡æ¯ä¸è¢«ç¯¡æ”¹ä½¿ç”¨ä»¥ä¸‹å…¬ç¤ºè®¡ç®—
<code>HMACSHA256( base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload), secret)</code> ï¼Œå…¶ä¸­ <code>secret</code> ä¸ºç­¾å‘æ–¹è‡ªå·±ä¿ç•™çš„å¯†é’¥ï¼Œç”¨äºéªŒè¯æ˜¯å¦è¢«ç¯¡æ”¹</li>
</ul>
<h2 id="ä¸session-idå¯¹æ¯”">ä¸Session IDå¯¹æ¯”</h2>
<p>ç›¸æ¯”äºä¼ ç»Ÿçš„Session IDæ–¹å¼ï¼ŒJWTå°†çŠ¶æ€ç»´æŠ¤åœ¨å®¢æˆ·ç«¯ï¼Œå®ç°äº†æœåŠ¡ç«¯æ— çŠ¶æ€ï¼Œå‡è½»äº†æœåŠ¡ç«¯çš„å‹åŠ›ï¼Œä½†æ˜¯åœ¨è®¾è®¡ä¸Šä¹Ÿä¼šå¸¦æ¥ä¸€äº›æ”¹å˜ã€‚</p>
<table>
  <thead>
      <tr>
          <th>ç‰¹æ€§</th>
          <th>JWT</th>
          <th>Session Cookie</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>å­˜å‚¨ä½ç½®</td>
          <td>å®¢æˆ·ç«¯ï¼ˆLocalStorageç­‰ï¼‰</td>
          <td>æœåŠ¡ç«¯æ•°æ®åº“</td>
      </tr>
      <tr>
          <td>æ‰©å±•æ€§</td>
          <td>å¤©ç„¶æ”¯æŒåˆ†å¸ƒå¼ç³»ç»Ÿ</td>
          <td>éœ€è¦Sessionå…±äº«æœºåˆ¶</td>
      </tr>
      <tr>
          <td>æ€§èƒ½</td>
          <td>æ— æ•°æ®åº“æŸ¥è¯¢ï¼ˆè‡ªåŒ…å«ï¼‰</td>
          <td>æ¯æ¬¡è¯·æ±‚éœ€éªŒè¯SessionçŠ¶æ€</td>
      </tr>
      <tr>
          <td>å®‰å…¨æ€§</td>
          <td>ä¾èµ–å¯†é’¥å®‰å…¨å’Œä¼ è¾“åŠ å¯†</td>
          <td>ä¾èµ–Cookieå®‰å…¨æ ‡è®°ï¼ˆSecure/HttpOnlyï¼‰</td>
      </tr>
      <tr>
          <td>å¤±æ•ˆæœºåˆ¶</td>
          <td>éœ€é€šè¿‡é€»è¾‘å®ç°ï¼ˆå¦‚é»‘åå•ï¼‰</td>
          <td>æœåŠ¡ç«¯ç›´æ¥åˆ é™¤Session</td>
      </tr>
  </tbody>
</table>
<h1 id="è½åœ°å®è·µ">è½åœ°å®è·µ</h1>
<p><div class="post-img-view">
    <a data-fancybox="gallery" href="https://zanks1996-1256221076.cos.ap-shanghai.myqcloud.com//piclistTemp/jwt.md.webp">
        <img src="https://zanks1996-1256221076.cos.ap-shanghai.myqcloud.com//piclistTemp/jwt.md.webp" alt="jwt.md"  />
    </a>
</div></p>
<h2 id="ç™»å½•æµç¨‹è®¾è®¡">ç™»å½•æµç¨‹è®¾è®¡</h2>
<p>è¿™é‡Œä»…è®¨è®ºå•ä¸ªAccessTokençš„åœºæ™¯ï¼ŒRefreshToken+AccessTokençš„æ–¹æ¡ˆåœ¨ <strong>ç™»å½•çŠ¶æ€ä¿å­˜</strong> ä¸­è¯´æ˜ã€‚</p>
<p>åœ¨JWTçš„ç™»å½•æµç¨‹è®¾è®¡ä¸­ï¼Œå®¢æˆ·ç«¯é€šè¿‡è´¦å·å¯†ç æ¢å– Tokenï¼Œå®¢æˆ·ç«¯ä¿å­˜Tokenã€‚è¯¥è¿‡ç¨‹ä¸éœ€è¦è®¤è¯ï¼Œä»…å’Œæ•°æ®åº“äº¤äº’éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ã€‚</p>
<p>å‚è€ƒä¼ªä»£ç ï¼š</p>



<div class="fund-code-container">
    <div class="fund-code-header">
        <div class="fund-code-header-left-container">
            <svg id="code-lights" xmlns="http://www.w3.org/2000/svg" version="1.1"  x="0px" y="0px" viewBox="0 0 450 130">
                <ellipse cx="65" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"/>
                <ellipse cx="225" cy="65" rx="50" ry="52"  stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"/>
                <ellipse cx="385" cy="65" rx="50" ry="52"  stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"/>
            </svg>
        </div>
        <div class="fund-code-header-mid-container">
            
            [ java ]
        </div>
        <div class="fund-code-header-right-container">
            <div class="fold-btn open">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M19 12L31 24L19 36" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
            </div>

            <div class="copy-btn">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M13 12.4316V7.8125C13 6.2592 14.2592 5 15.8125 5H40.1875C41.7408 5 43 6.2592 43 7.8125V32.1875C43 33.7408 41.7408 35 40.1875 35H35.5163" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M32.1875 13H7.8125C6.2592 13 5 14.2592 5 15.8125V40.1875C5 41.7408 6.2592 43 7.8125 43H32.1875C33.7408 43 35 41.7408 35 40.1875V15.8125C35 14.2592 33.7408 13 32.1875 13Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/></svg>
</span>
            </div>
        </div>
    </div>
    <div class="fund-code-content">
        <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="n">UserAuth</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="n">UserAuth</span><span class="w"> </span><span class="n">userAuth</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">    </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userMapper</span><span class="p">.</span><span class="na">selectOne</span><span class="p">(</span><span class="n">userAuth</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w">    </span><span class="c1">// ç”¨æˆ·ä¸å­˜åœ¨  </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NotAuthException</span><span class="p">(</span><span class="n">LOGIN_FAILED</span><span class="p">.</span><span class="na">getCode</span><span class="p">(),</span><span class="w"> </span><span class="n">LOGIN_FAILED</span><span class="p">.</span><span class="na">getMsg</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w">    </span><span class="c1">// å¯†ç é”™è¯¯  </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">BCrypt</span><span class="p">.</span><span class="na">checkpw</span><span class="p">(</span><span class="n">userAuth</span><span class="p">.</span><span class="na">getPassword</span><span class="p">(),</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getPassword</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NotAuthException</span><span class="p">(</span><span class="n">LOGIN_FAILED</span><span class="p">.</span><span class="na">getCode</span><span class="p">(),</span><span class="w"> </span><span class="n">LOGIN_FAILED</span><span class="p">.</span><span class="na">getMsg</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">  
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">    </span><span class="n">JwtHelper</span><span class="p">.</span><span class="na">Token</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtHelper</span><span class="p">.</span><span class="na">generateToken</span><span class="p">(</span><span class="n">userAuth</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">    </span><span class="n">userAuth</span><span class="p">.</span><span class="na">setAccessToken</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="na">accessToken</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">    </span><span class="n">userAuth</span><span class="p">.</span><span class="na">setRefreshToken</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="na">refreshToken</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">    </span><span class="n">userAuth</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&#34;******&#34;</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">    </span><span class="c1">// æ–°çš„refresh_token  </span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">    </span><span class="n">AuthInfo</span><span class="w"> </span><span class="n">authInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authInfoMapper</span><span class="p">.</span><span class="na">selectById</span><span class="p">(</span><span class="n">userAuth</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">authInfo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">        </span><span class="n">authInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AuthInfo</span><span class="p">();</span><span class="w">  
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">        </span><span class="n">authInfo</span><span class="p">.</span><span class="na">setId</span><span class="p">(</span><span class="n">userAuth</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w">        </span><span class="n">authInfo</span><span class="p">.</span><span class="na">setType</span><span class="p">(</span><span class="s">&#34;user&#34;</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="w">        </span><span class="n">authInfo</span><span class="p">.</span><span class="na">setRefreshToken</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="na">refreshToken</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="w">        </span><span class="n">authInfoMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">authInfo</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="w">        </span><span class="n">authInfo</span><span class="p">.</span><span class="na">setRefreshToken</span><span class="p">(</span><span class="n">token</span><span class="p">.</span><span class="na">refreshToken</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="w">        </span><span class="n">authInfoMapper</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">authInfo</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">  
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&#34;[Auth] Login success.Username is {}&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">userAuth</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span><span class="w">  
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">userAuth</span><span class="p">;</span><span class="w">  
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div>
    </div>
</div><h2 id="è®¤è¯æµç¨‹è®¾è®¡">è®¤è¯æµç¨‹è®¾è®¡</h2>
<p>è¿™é‡Œä»…è®¨è®ºå•ä¸ªAccessTokençš„åœºæ™¯ï¼ŒRefreshToken+AccessTokençš„æ–¹æ¡ˆåœ¨ <strong>ç™»å½•çŠ¶æ€ä¿å­˜</strong> ä¸­è¯´æ˜ã€‚</p>
<p>è®¤è¯æµç¨‹å¯ä»¥ä½¿ç”¨SpringBootçš„Filteræœºåˆ¶å®ç°ï¼Œå°†å¤§éƒ¨åˆ†è¯·æ±‚æ‹¦æˆªï¼ŒéªŒè¯Headerä¸­çš„Tokenæ˜¯å¦æœ‰æ•ˆï¼Œå¹¶ä¸”ä¸ºäº†ç”¨æˆ·ä½“éªŒï¼Œå‡è®¾è¿‡æœŸæ—¶é—´ä¸º30åˆ†é’Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä¸´æœŸ10åˆ†é’Ÿæ—¶åœ¨Response Headerä¸­å†™å…¥ <code>X-NEW-ACCESS-TOKEN: ${newToken}</code> æ¥å®ç°è‡ªåŠ¨ç»­ç­¾ã€‚è¿™ä¸ªè®¤è¯è¿‡ç¨‹æ—¢ä¸ä¾èµ–æ•°æ®åº“ï¼Œä¹Ÿä¸ä¾èµ–ç¼“å­˜ç³»ç»Ÿï¼Œåªéœ€è¦ä¾é æœåŠ¡æœ¬èº«çš„è®¡ç®—èƒ½åŠ›ä¸JWTåŒ…å«çš„ä¿¡æ¯å°±å¯ä»¥å®ŒæˆéªŒè¯ã€‚</p>
<p>å‚è€ƒä»£ç ï¼š</p>



<div class="fund-code-container">
    <div class="fund-code-header">
        <div class="fund-code-header-left-container">
            <svg id="code-lights" xmlns="http://www.w3.org/2000/svg" version="1.1"  x="0px" y="0px" viewBox="0 0 450 130">
                <ellipse cx="65" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)"/>
                <ellipse cx="225" cy="65" rx="50" ry="52"  stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)"/>
                <ellipse cx="385" cy="65" rx="50" ry="52"  stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)"/>
            </svg>
        </div>
        <div class="fund-code-header-mid-container">
            
            [ java ]
        </div>
        <div class="fund-code-header-right-container">
            <div class="fold-btn open">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M19 12L31 24L19 36" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
            </div>

            <div class="copy-btn">
                <span class="inline-svg" ><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M13 12.4316V7.8125C13 6.2592 14.2592 5 15.8125 5H40.1875C41.7408 5 43 6.2592 43 7.8125V32.1875C43 33.7408 41.7408 35 40.1875 35H35.5163" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill="currentColor" d="M32.1875 13H7.8125C6.2592 13 5 14.2592 5 15.8125V40.1875C5 41.7408 6.2592 43 7.8125 43H32.1875C33.7408 43 35 41.7408 35 40.1875V15.8125C35 14.2592 33.7408 13 32.1875 13Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/></svg>
</span>
            </div>
        </div>
    </div>
    <div class="fund-code-content">
        <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="nd">@Override</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">HttpClassicServerRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpClassicServerResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServerFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">DoHttpServerFilterException</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w">        </span><span class="c1">// jwtéªŒè¯ä¸è‡ªåŠ¨ç»­ç­¾  </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">headers</span><span class="p">().</span><span class="na">first</span><span class="p">(</span><span class="s">&#34;Authorization&#34;</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">authorizationStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authorization</span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">NotAuthException</span><span class="p">(</span><span class="n">TOKEN_ILLEGAL</span><span class="p">.</span><span class="na">getCode</span><span class="p">(),</span><span class="w"> </span><span class="n">TOKEN_ILLEGAL</span><span class="p">.</span><span class="na">getMsg</span><span class="p">()));</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">authorizationStr</span><span class="p">.</span><span class="na">replace</span><span class="p">(</span><span class="s">&#34;Bearer &#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">        </span><span class="n">Jws</span><span class="o">&lt;</span><span class="n">Claims</span><span class="o">&gt;</span><span class="w"> </span><span class="n">claimsJws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jwtHelper</span><span class="p">.</span><span class="na">validateToken</span><span class="p">(</span><span class="n">token</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expire</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">claimsJws</span><span class="p">.</span><span class="na">getPayload</span><span class="p">().</span><span class="na">getExpiration</span><span class="p">().</span><span class="na">getTime</span><span class="p">();</span><span class="w">  
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">()).</span><span class="na">getTime</span><span class="p">();</span><span class="w">  
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expire</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">10</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">expire</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">            </span><span class="c1">// å‰©ä½™ä¸è¶³10åˆ†é’Ÿè‡ªåŠ¨ç»­ç­¾  </span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">headers</span><span class="p">().</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;X-NEW-ACCESS-TOKEN&#34;</span><span class="p">,</span><span class="w">  
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">                    </span><span class="n">jwtHelper</span><span class="p">.</span><span class="na">generateAccessToken</span><span class="p">(</span><span class="n">claimsJws</span><span class="p">.</span><span class="na">getPayload</span><span class="p">().</span><span class="na">getSubject</span><span class="p">()));</span><span class="w">  
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">  
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">        </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&#34;[Auth] Auth failed.&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w">  
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">        </span><span class="c1">// todo return 4xx HttpCode</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">  
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div>
    </div>
</div><p><strong>éœ€è¦é¢å¤–æ³¨æ„çš„æ˜¯ï¼Œæ³¨é”€åŠŸèƒ½éœ€è¦åœ¨æœåŠ¡ç«¯å®ç°ä¸€ä¸ªé»‘åå•</strong>
å› ä¸ºç™»å½•çŠ¶æ€è¢«ä¿ç•™åœ¨äº†å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥å¤©ç„¶æ— æ³•å®ç°æ³¨é”€åŠŸèƒ½ã€‚éœ€è¦åœ¨æ³¨é”€å‘ç”Ÿåï¼Œå°†å·²æ³¨é”€çš„TokenåŠ å…¥é»‘åå•ã€‚<code>AuthFilter</code>ä¸­å¢åŠ Tokenæ˜¯å¦åœ¨é»‘åå•çš„æ ¡éªŒï¼Œæ¥åˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚
è¿™æ˜¯ä¸€ä¸ªRedisçš„é€‚ç”¨åœºæ™¯ï¼Œä¹Ÿæ˜¯JWTè®¾è®¡ä¸­å”¯ä¸€ä¸€ä¸ªRedisçš„é€‚ç”¨åœºæ™¯ã€‚å»ºè®®æ˜¯é€‰ç”¨Redisï¼Œå¦‚æœéœ€è¦åŠ å¼ºå®‰å…¨æ€§å¯ä»¥è€ƒè™‘é€‚ç”¨æ•°æ®åº“+Redisçš„æ–¹æ¡ˆã€‚å¦‚æœåªä½¿ç”¨Redisï¼ŒRedisæ•…éšœä»…å¤±å»é»‘åå•åŠŸèƒ½ï¼Œå¯¹äºä¸šåŠ¡çš„å®‰å…¨æ€§æœ‰ä¸€å®šå½±å“ï¼Œä¸”å½±å“èŒƒå›´å¯æ§ï¼Œä¸å½±å“ä¸šåŠ¡ã€‚å¦‚æœç³»ç»Ÿå¯¹äºæ³¨é”€çš„å®‰å…¨æ€§æ²¡æœ‰ç‰¹åˆ«é«˜çš„è¦æ±‚ï¼Œåªé€‚ç”¨Redisæ˜¯ä¸€ä¸ªæ¯”è¾ƒåˆç†çš„é€‰æ‹©ï¼Œå®ç°ç®€å•ï¼Œä¸”å‰¯ä½œç”¨å¯æ§ã€‚</p>
<h2 id="ç™»å½•çŠ¶æ€ä¿å­˜å¯é€‰">ç™»å½•çŠ¶æ€ä¿å­˜ï¼ˆå¯é€‰ï¼‰</h2>
<p>å¦‚æœä¸éœ€è¦ä½¿ç”¨é•¿æœŸçŠ¶æ€ä¿æŒå¯ä»¥åªæ˜¯ç”¨ AccessTokenï¼Œåœ¨è¿‡æœŸåå¼•å¯¼ç”¨æˆ·é‡æ–°è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•å³å¯ã€‚</p>
<p>å¦‚æœéœ€è¦åƒAPPä¸€æ ·åšåˆ°é•¿æœŸç™»å½•çŠ¶æ€çš„ä¿æŒï¼Œè€ƒè™‘åˆ°å¦‚æœåªæ˜¯å»¶é•¿accessTokenè¿‡æœŸæ—¶é—´ï¼Œä¼šæ— é™æ”¾å¤§Tokenæ³„éœ²é£é™©ã€‚æ‰€ä»¥å¼•å…¥äº†RefreshTokenï¼Œè¯¥Tokenä¸å¯ç”¨äºè®¤è¯ï¼Œåªèƒ½ç”¨äºç­¾å‘æ–°çš„AccessTokenä¸RefreshTokenï¼Œå¹¶ä¸”æœåŠ¡ç«¯å°†RefreshTokenä¸ç”¨æˆ·è¿›è¡Œç»‘å®šã€‚è¿™ä¸ªç»‘å®šå…³ç³»å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ä¿å­˜ï¼Œåœ¨ç­¾å‘æ–°çš„Tokenåç«‹åˆ»åºŸå¼ƒè€çš„ï¼Œè¢«åºŸå¼ƒçš„RefreshTokenå°†ä¼šè¢«å½“æˆæ— æ•ˆTokenå¤„ç†ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™æ ·çš„è®¾è®¡æ˜¯æ— æ³•å…¼å®¹å•ç”¨æˆ·å¤šè®¾å¤‡åœºæ™¯çš„ï¼Œå¦‚æœéœ€è¦å…¼é¡¾å¤šè®¾å¤‡ç™»å½•åœºæ™¯ï¼Œå¯ä»¥å°† RefreshTokenä¸  <code>user_id,device_id</code> ç»‘å®šï¼Œå®é™…ä¸Šä¸è®¾å¤‡ç»‘å®šå¯ä»¥æœ‰æ•ˆé˜²æ­¢Tokenæ³„éœ²åè¢«ç›—ç”¨çš„é£é™©ï¼‰</p>
<p>åœ¨å®é™…çš„ä½¿ç”¨ä¸­ï¼Œç™»å½•ç­¾å‘ä¸¤ä¸ªTokenï¼Œå¹¶å°†RefreshTokenå­˜å…¥æ•°æ®åº“ã€‚é‰´æƒåœºæ™¯RefreshTokenä¸å‚åŠ ï¼Œæ–°å¢ä¸€ä¸ªä½¿ç”¨RefreshTokenç­¾å‘æ–°Tokençš„åœºæ™¯ç”¨äºå­˜ç»­ç™»å½•çŠ¶æ€ï¼Œè·å–æ–°çš„AccessTokenã€‚</p>
<div class="copyright">
    <hr>
    <blockquote>
        <p>æœ¬æ–‡ä¸ºåŸåˆ›å†…å®¹ï¼Œç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ã€‚å¦‚éœ€è½¬è½½ï¼Œè¯·åœ¨æ–‡ç« ä¸­å£°æ˜æœ¬æ–‡æ ‡é¢˜åŠé“¾æ¥ã€‚</p>
        <p>æ–‡ç« æ ‡é¢˜ï¼šJWTè®¤è¯æœºåˆ¶å®è·µ â€”â€” [Za_Nks]</p>
        <p>æ–‡ç« é“¾æ¥ï¼š<a href="https://www.zanks.link/2025/03/05/java-jwt/" target="_blank">https://www.zanks.link/2025/03/05/java-jwt/</a></p>
        <p>è®¸å¯åè®®ï¼š<a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh-hans" target="_blank">CC BY-NC 4.0</a></p>
    </blockquote>
</div></div>
                <div class="post-footer">
                    <div class="fund-divider fund-title pn-text">
                        <span>çœ‹çœ‹å…¶ä»–æ–‡ç« </span>
                    </div>
                    <div class="post-nav">
                        
                        <a class="nav-block prev" href="/2025/02/21/ai-trae/">
                            <span class="arrow">ã€Š </span>
                            <div class="pn-content-container">
                                <span>Trae â€”â€” å¸Œæœ›ä¹‹ç« or é»„æ˜çš„ä¸§é’Ÿ</span>
                            </div>
                        </a>
                        

                        
                        <a class="nav-block next" href="/2025/03/27/jellyfin-tvshow/">
                            <div class="pn-content-container">
                                <span>Jellyfinç”µè§†å‰§åˆ®å‰Šä¿®å¤å°è®°</span>
                            </div>
                            <span class="arrow"> ã€‹</span>
                        </a>
                        
                    </div>



                    <div class="comments">
                        
                        
<div class="comments-title" id="comments-title">
    <div class="fund-divider fund-title">
        <span>æ¬¢è¿æ¥åˆ°è¯„è®ºåŒº</span>
    </div>
    <p>æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼å¦‚éœ€äº¤æµï¼Œè¯·ç•™ä¸ªè¯„è®ºå§ï¼ </p>
</div>

<div>
    <div id="tcomment"></div>
</div>

                    </div>
                </div>
            </div>
        </div>

        <div class="right-container">
            <div class="author-info-container">
    <div class="author-info fund-border">
    <div class="swiper" id="author-info-swiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                        <div class="one-author-container">
                            <a class="avatar" href="/about">
                                <img  src="/images/default/avatar.jpg">
                            </a>
                            <div class="author-name fund-title">Za_Nks</div>
                            <div class="author-summary">å‰¥é¾™è™¾å¤§ç‹ã€å‰¥æŸšå­ä¹Ÿè¿˜å¯ä»¥</div>
                            
                        </div>
                    </div>
            
        </div>
        
        <div class="swiper-pagination"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        new Swiper('#author-info-swiper', {
            direction: 'horizontal',
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 3000, 
            },
            observer: true, 
            observeParents: true, 
            on: {
                touchEnd: function () {
                    setTimeout(() => {
                        this.autoplay.start();
                    }, 500);
                },
            },
        });
    });
</script>
</div>
<div class="announcements-container">
    <div class="fund-block fund-border">
    <div class="fund-title block-title">
        <div class="fund-divider">
            <span>ğŸ“¢ å…¬å‘Š</span>
        </div>
    </div>
    <div class="swiper announcement" id="announcement-swiper">
        <div class="swiper-wrapper"><div class="swiper-slide">
                <div class="announcement-content-container">
                    <div class="announcement-time fund-secondary">
                        <span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48"><path fill="currentColor" stroke-linejoin="round" stroke-width="4" stroke="#333" d="M5 19h38v21a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V19ZM5 9a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v10H5V9Z" data-follow-stroke="#333"/><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M16 4v8M32 4v8M28 34h6M14 34h6M28 26h6M14 26h6" data-follow-stroke="#333"/></svg>
</span>
                        <span>
                            å‘å¸ƒäº 2025-05-20 00:00:00
                        </span>
                    </div>
                    <div class="announcement-content">
                        æœ¬ç«™å·²åŠ å…¥ã€Šå¼€å¾€ã€‹ä¸ã€Šå¼‚æ¬¡å…ƒä¹‹æ—…ã€‹ï¼Œå¦‚éœ€è®¿é—®å…¶ä»–è”ç›Ÿæˆå‘˜ï¼Œå¯ä»¥é€šè¿‡ ã€ä¸æœŸè€Œé‡ã€‘ æ¿å—è¿›è¡Œç©¿æ¢­
                    </div>
                </div>
            </div><div class="swiper-slide">
                <div class="announcement-content-container">
                    <div class="announcement-time fund-secondary">
                        <span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48"><path fill="currentColor" stroke-linejoin="round" stroke-width="4" stroke="#333" d="M5 19h38v21a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V19ZM5 9a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v10H5V9Z" data-follow-stroke="#333"/><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M16 4v8M32 4v8M28 34h6M14 34h6M28 26h6M14 26h6" data-follow-stroke="#333"/></svg>
</span>
                        <span>
                            å‘å¸ƒäº 2025-04-17 00:00:00
                        </span>
                    </div>
                    <div class="announcement-content">
                        å·²åˆ‡æ¢è‡³å›½å†…æœåŠ¡å™¨ï¼Œå®ŒæˆICPåŠå…¬å®‰ç½‘å¤‡æ¡ˆï¼Œåç»­å°†è€ƒè™‘é€šè¿‡CDNç­‰æŠ€æœ¯åŠ é€Ÿè®¿é—®æ•ˆç‡æ ¸IPv6æ”¯æŒï¼Œç›®å‰IPv6ç”±Github Pagesæ”¯æŒ
                    </div>
                </div>
            </div><div class="swiper-slide">
                <div class="announcement-content-container">
                    <div class="announcement-time fund-secondary">
                        <span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48"><path fill="currentColor" stroke-linejoin="round" stroke-width="4" stroke="#333" d="M5 19h38v21a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V19ZM5 9a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v10H5V9Z" data-follow-stroke="#333"/><path fill="currentColor" stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="#333" d="M16 4v8M32 4v8M28 34h6M14 34h6M28 26h6M14 26h6" data-follow-stroke="#333"/></svg>
</span>
                        <span>
                            å‘å¸ƒäº 2025-02-25 00:00:00
                        </span>
                    </div>
                    <div class="announcement-content">
                        è¿‘æœŸå°†è¿›è¡Œå¤‡æ¡ˆï¼Œå¯èƒ½ä¼šåœæ­¢æœåŠ¡ä¸€æ®µæ—¶é—´ï¼Œä¸ºæœŸ15-30å¤©
                    </div>
                </div>
            </div>
        </div>
        
        <div class="swiper-pagination"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        new Swiper('#announcement-swiper', {
            direction: 'horizontal',
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 5000, 
            },
            observer: true, 
            observeParents: true, 
            on: {
                touchEnd: function () {
                    setTimeout(() => {
                        this.autoplay.start();
                    }, 500);
                },
            },
        });
    });
</script>
</div>

<div class="fund-block fund-border" id="site-info">
    <div class="site-info-title">
        <div class="fund-divider fund-title">
            
            <span>ğŸ² ä¸æœŸè€Œé‡</span>
        </div>
    </div>
    <div class="goto-next-grid">
        <a style="text-decoration:none;" href="https://travel.moe/go.html" title="å¼‚æ¬¡å…ƒä¹‹æ—…-è·ƒè¿-æˆ‘ä»¬ä¸€èµ·å»èŒç«™æˆå‘˜çš„æ˜Ÿçƒæ—…è¡Œå§ï¼" target="_blank">
            <img src="https://travel.moe/images/icon/icon64.png" style="width:24px;height:24px">å¼‚æ¬¡å…ƒä¹‹æ—…</a>
        <a href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="å¼€å¾€-å‹é“¾æ¥åŠ›">
            <img src="https://www.travellings.cn/assets/logo.gif" alt="å¼€å¾€-å‹é“¾æ¥åŠ›" width="120">
        </a>
    </div>
</div>

    <div class="toc-container pinned">
        <div class="toc fund-block fund-border">
    <div class="fund-title block-title">
        <div class="fund-divider">
            <span>ğŸ“‘ ç›®å½•</span>
        </div>
    </div>
    <div class="toc-content shadow-a">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#å‰è¨€">å‰è¨€</a></li>
    <li><a href="#jwtæœºåˆ¶">JWTæœºåˆ¶</a>
      <ul>
        <li><a href="#jwtä»‹ç»">JWTä»‹ç»</a></li>
        <li><a href="#æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a></li>
        <li><a href="#ä¸session-idå¯¹æ¯”">ä¸Session IDå¯¹æ¯”</a></li>
      </ul>
    </li>
    <li><a href="#è½åœ°å®è·µ">è½åœ°å®è·µ</a>
      <ul>
        <li><a href="#ç™»å½•æµç¨‹è®¾è®¡">ç™»å½•æµç¨‹è®¾è®¡</a></li>
        <li><a href="#è®¤è¯æµç¨‹è®¾è®¡">è®¤è¯æµç¨‹è®¾è®¡</a></li>
        <li><a href="#ç™»å½•çŠ¶æ€ä¿å­˜å¯é€‰">ç™»å½•çŠ¶æ€ä¿å­˜ï¼ˆå¯é€‰ï¼‰</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>
    </div>
        </div>
    </div>

</div>


  </main>
  <footer>
    <p>Copyright 2025 - 2025. All rights reserved. Powered By Hugo.Designed By <a href="https://github.com/ZaNksC/hugo-theme-fund/tree/main">Fund</a></p>
<div style="margin-top: 0.2rem">
    <a href="https://icp.gov.moe/?keyword=20250574" target="_blank">
        <img src="https://img.shields.io/badge/èŒICP-èŒICPå¤‡20250574å·-red" alt="èŒICP">
    </a>
    <img src="https://img.shields.io/badge/ICPå¤‡æ¡ˆ-æµ™ICPå¤‡2025162460å·-blue" alt="ICP">
    <img src="https://img.shields.io/badge/å…¬å®‰å¤‡æ¡ˆ-æµ™å…¬ç½‘å®‰å¤‡33020502001229å·-blue" alt="å…¬å®‰ç½‘å¤‡æ¡ˆ">
</div>
  </footer>
</body>
</html>
