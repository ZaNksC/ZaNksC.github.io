<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ– | ä¹±è¯ä¸‰åƒ</title>
<meta name="keywords" content="Hugo, PaperMod, å»ºç«™">
<meta name="description" content="HugoåŸºæœ¬åŠŸèƒ½æ‰©å±•ï¼ˆè®¿é—®é‡ã€è¯„è®ºç­‰ï¼‰&#43; PaperModä¸»é¢˜ç¾åŒ–">
<meta name="author" content="Zanks">
<link rel="canonical" href="https://zanksc.github.io/2024/01/01/hugo-2/">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade">
<link crossorigin="anonymous" href="/assets/css/stylesheet.dffb32c0572413ff6a2d2fe9665acc700e94f34dfd411de99afb7749ae4b7454.css" integrity="sha256-3/sywFckE/9qLS/pZlrMcA6U8039QR3pmvt3Sa5LdFQ=" rel="preload stylesheet" as="style">
<script src="https://kit.fontawesome.com/4f00e1f6e6.js" crossorigin="anonymous"></script>
<link rel="icon" href="https://zanksc.github.io/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zanksc.github.io/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zanksc.github.io/assets/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zanksc.github.io/assets/apple-touch-icon.png">
<link rel="mask-icon" href="https://zanksc.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://zanksc.github.io/2024/01/01/hugo-2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-420MPRSEER"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-420MPRSEER');
</script><meta property="og:url" content="https://zanksc.github.io/2024/01/01/hugo-2/">
  <meta property="og:site_name" content="ä¹±è¯ä¸‰åƒ">
  <meta property="og:title" content="ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–">
  <meta property="og:description" content="HugoåŸºæœ¬åŠŸèƒ½æ‰©å±•ï¼ˆè®¿é—®é‡ã€è¯„è®ºç­‰ï¼‰&#43; PaperModä¸»é¢˜ç¾åŒ–">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-01T02:00:00+08:00">
    <meta property="article:modified_time" content="2024-12-25T15:26:35+08:00">
    <meta property="article:tag" content="Hugo">
    <meta property="article:tag" content="PaperMod">
    <meta property="article:tag" content="å»ºç«™">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–">
<meta name="twitter:description" content="HugoåŸºæœ¬åŠŸèƒ½æ‰©å±•ï¼ˆè®¿é—®é‡ã€è¯„è®ºç­‰ï¼‰&#43; PaperModä¸»é¢˜ç¾åŒ–">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“– æ–‡ç« ",
      "item": "https://zanksc.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–",
      "item": "https://zanksc.github.io/2024/01/01/hugo-2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–",
  "name": "ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–",
  "description": "HugoåŸºæœ¬åŠŸèƒ½æ‰©å±•ï¼ˆè®¿é—®é‡ã€è¯„è®ºç­‰ï¼‰+ PaperModä¸»é¢˜ç¾åŒ–",
  "keywords": [
    "Hugo", "PaperMod", "å»ºç«™"
  ],
  "articleBody": " è£…ä¿®ä¸€ä¸‹æ—§æ—¶ä»£çš„èˆ¹ï¼Œæ‰èƒ½å¼€é—¨è¿æ¥æ›´å¤šçš„å®¢äººã€‚\nå‰è¨€ æ­å»ºå®Œåšå®¢ä¹‹åï¼Œæ€»æ˜¯ä¼šè§‰å¾—è¿™ä¸æ»¡æ„ï¼Œç„¶ååœ¨æ­å»ºè¿‡ç¨‹ä¸­ï¼Œç”¨ç›¸åŒçš„å»ºç«™å·¥å…·å’Œä¸»é¢˜æœç´¢ï¼Œä¼šå‘ç°ç½‘ä¸Šæœ‰å¾ˆå¤šå¤§ä½¬å·²ç»æ­å»ºå¥½çš„ç«™ç‚¹ï¼Œå°±ä¼šè¿™ä¸ªåŠŸèƒ½ä¹Ÿæƒ³è¦ï¼Œé‚£ä¸ªåŠŸèƒ½ä¹Ÿæƒ³è¦ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘è®°å½•äº†ä¸€äº›æˆ‘æ­å»ºè¿‡ç¨‹ä¸­è¿›è¡ŒåŸºç¡€åŠŸèƒ½æ‹“å±•å’Œç¾åŒ–çš„è¿‡ç¨‹ã€‚å¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æœ‰ç¼˜äºº~\nä»¥ä¸‹æ•™ç¨‹ä¸ºè¿›é˜¶ç‰ˆçš„ç®€ç•¥æ•™ç¨‹ï¼Œéœ€è¦ä½ æœ‰æ¯”è¾ƒæ‰å®çš„ç¼–ç¨‹åŸºç¡€ï¼ˆæˆ–è€…ä¸çˆ±æ€è€ƒçš„è„‘è¢‹ï¼‰ï¼Œå¾ˆå¤šæ•™ç¨‹æ¥è‡ªç½‘ä¸Šå…¶ä»–å¤§ä½¬ï¼Œç”±äºçœ‹äº†å¤ªå¤šçš„æ•™ç¨‹ï¼Œé“¾æ¥å¼•ç”¨ä¸å…¨è¯·è§è°…ï¼Œå¦‚æœæœ‰å¤§ä½¬çœ‹åˆ°äº†å¯ä»¥è”ç³»æˆ‘åŠ ä¸Šã€‚\nä»¥ä¸‹ä¿®æ”¹htmlå’Œcssçš„ä»£ç éƒ½ä¸å»ºè®®åœ¨themesæ–‡ä»¶å¤¹ç›´æ¥ä¿®æ”¹ï¼Œhtmlå¯ä»¥åœ¨layoutç›®å½•ä¸‹æ–°å»ºåŒåæ–‡ä»¶ï¼ˆå¤åˆ¶è¿‡æ¥æ”¹ï¼‰ï¼Œcsså¯ä»¥åœ¨assetsç›®å½•ä¸‹æ–°å»ºï¼Œæœ€ç»ˆæ„å»ºéƒ½ä¼šæ‰“åŒ…åˆ°publicä¸­å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„è¦†ç›–ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚\næ‹“å±•åŠŸèƒ½ è¯„è®º Gisucs é€‰ç”¨Gisucsä½œä¸ºè¯„è®ºæœåŠ¡ï¼Œæœ€å¼€å§‹æˆ‘çš„é€‰æ‹©æ˜¯Gisucsï¼Œä½†æ˜¯åæ¥æˆ‘æ”¾å¼ƒäº†ã€‚Githubä½œä¸ºå­˜å‚¨è™½ç„¶æ˜¯å…¨å…è´¹ï¼Œéå¸¸ä¼˜é›…ï¼Œä½†æ˜¯è¦æ±‚è¯„è®ºè€…æ‹¥æœ‰ä¸€ä¸ªGithubè´¦å·å¯¹äºç”¨äºä½“éªŒå®åœ¨æ˜¯ä¸å¤ªå‹å¥½ã€‚\nGithubé…ç½® å‚è€ƒé“¾æ¥ï¼š https://giscus.app/zh-CN#repository\nåœ¨æŸä¸ªGithubå…¬å¼€ä»“åº“å¼€å¯discussionåŠŸèƒ½ï¼ˆsettingsè¿›å…¥ï¼‰ åœ¨Githubå®‰è£…Gisucs APP è®°å½•ç”Ÿæˆçš„é…ç½®å’Œä»£ç ï¼Œéœ€è¦é…ç½®åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ Hugoé…ç½® å‚è€ƒé“¾æ¥ï¼š https://www.tofuwine.cn/posts/610b75f5/#pe-comments\næ·»åŠ æ–‡ä»¶ layouts/partials/comments.html,è¾“å…¥ä»¥ä¸‹å†…å®¹ \u003cdiv class=\"comments-title\" id=\"tw-comment-title\"\u003e \u003cp class=\"x-comments-title\"\u003e{{- .Param \"giscus.discussionTitle\" }}\u003c/p\u003e \u003cp style=\"font-size: 1rem\"\u003e{{- .Param \"giscus.discussionSubtitle\" }} \u003c/p\u003e \u003c/div\u003e \u003cdiv id=\"tw-comment\"\u003e\u003c/div\u003e \u003cscript\u003e const getStoredTheme = () =\u003e localStorage.getItem(\"pref-theme\") === \"dark\" ? \"{{ .Site.Params.giscus.darkTheme }}\" : \"{{ .Site.Params.giscus.lightTheme }}\"; const setGiscusTheme = () =\u003e { const sendMessage = (message) =\u003e { const iframe = document.querySelector('iframe.giscus-frame'); if (iframe) { iframe.contentWindow.postMessage({giscus: message}, 'https://giscus.app'); } } sendMessage({setConfig: {theme: getStoredTheme()}}) } document.addEventListener(\"DOMContentLoaded\", () =\u003e { const giscusAttributes = { \"src\": \"https://giscus.app/client.js\", \"data-repo\": \"{{ .Site.Params.giscus.repo }}\", \"data-repo-id\": \"{{ .Site.Params.giscus.repoId }}\", \"data-category\": \"{{ .Site.Params.giscus.category }}\", \"data-category-id\": \"{{ .Site.Params.giscus.categoryId }}\", \"data-mapping\": \"{{ .Site.Params.giscus.mapping }}\", \"data-strict\": \"{{ .Site.Params.giscus.strict }}\", \"data-reactions-enabled\": \"{{ .Site.Params.giscus.reactionsEnabled}}\", \"data-emit-metadata\": \"{{ .Site.Params.giscus.emitMetadata }}\", \"data-input-position\": \"{{ .Site.Params.giscus.inputPosition }}\", \"data-theme\": getStoredTheme(), \"data-lang\": \"{{ .Site.Params.giscus.lang }}\", \"data-loading\": \"lazy\", \"crossorigin\": \"anonymous\", \"async\": \"\", }; // åŠ¨æ€åˆ›å»º giscus script const giscusScript = document.createElement(\"script\"); Object.entries(giscusAttributes).forEach( ([key, value]) =\u003e giscusScript.setAttribute(key, value)); document.querySelector(\"#tw-comment\").appendChild(giscusScript); // é¡µé¢ä¸»é¢˜å˜æ›´åï¼Œå˜æ›´ giscus ä¸»é¢˜ const themeSwitcher = document.querySelector(\"#theme-toggle\"); if (themeSwitcher) { themeSwitcher.addEventListener(\"click\", setGiscusTheme); } const themeFloatSwitcher = document.querySelector(\"#theme-toggle-float\"); if (themeFloatSwitcher) { themeFloatSwitcher.addEventListener(\"click\", setGiscusTheme); } }); \u003c/script\u003e æ·»åŠ æ–‡ä»¶ assets/css/extended/comments.css,è¾“å…¥ä»¥ä¸‹å†…å®¹ /* giscus è¯„è®ºç»„ä»¶ */ .comments-title { margin-top: 2rem; margin-bottom: 2rem; display: block; text-align: center; } .x-comments-title { display: block; font-size: 1.25em; font-weight: 700; padding: 1.5rem 0 .5rem; } åœ¨ hugo.yaml ä¸­æ·»åŠ å†…å®¹ï¼Œå…¶ä¸­ {{}} åŒ…è£¹çš„éœ€è¦æ›¿æ¢æˆè‡ªå·±çš„å†…å®¹ï¼Œå†…å®¹åœ¨Gisucsä¼šç”Ÿæˆ giscus: repo: \"{{ REPO }}\" repoId: \"{ REPO_ID }\" category: \"Announcements\" categoryId: \"{{ CATEGORYID }}\" mapping: \"pathname\" strict: \"0\" reactionsEnabled: \"1\" emitMetadata: \"0\" inputPosition: \"bottom\" lightTheme: \"light\" darkTheme: \"dark\" lang: \"zh-CN\" discussionTitle: æ¬¢è¿æ¥åˆ°è¯„è®ºåŒº discussionSubtitle: æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼å¦‚éœ€äº¤æµï¼Œè¯·ç•™ä¸ªè¯„è®ºå§ï¼ åœ¨ archetypes/default.md ä¸­æ·»åŠ é…ç½® comments: true æ¥å¼€å¯è¯„è®ºåŒºï¼Œå·²æœ‰çš„åšå®¢ä¹Ÿéœ€è¦ä¿®æ”¹è¿™ä¸ªæ¥å¼€å¯ Twikoo Twikoo å®˜ç½‘\nå› ä¸ºGisucsè¦æ±‚è¯„è®ºè€…å…·æœ‰Githubè´¦å·æœ‰ç‚¹ä½¿ç”¨è€…ä¸å¤ªå‹å¥½ï¼Œæ‰€ä»¥åé¢æ›´æ¢äº†ä¸€ä¸ªTwikoo\nTwikooçš„æ•´ä½“å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªCSSçš„æ¶æ„ï¼ŒC-Hugoç«™ç‚¹çš„é™æ€JSä»£ç ï¼ŒS-äº‘å‡½æ•°ï¼ŒS-MonogoDBæ•°æ®åº“ã€‚Twikooçš„å®˜æ–¹æ˜¯æ‡‚æˆ‘ä»¬è¿™äº›ç©·é¬¼çš„ï¼Œæä¾›äº†å¾ˆå¤šå…è´¹éƒ¨ç½²çš„æ•™ç¨‹ã€‚æˆ‘è¿™è¾¹å°±æŒ‰ç…§å®˜æ–¹æ¨èåº¦æœ€é«˜çš„æ–¹æ³•è¿›è¡Œéƒ¨ç½²ã€‚MonogoDBé€‰æ‹©MongoDB Atlasï¼Œæœ‰500MBçš„å…è´¹é¢åº¦ã€‚Netlifyéƒ¨ç½²äº‘å‡½æ•°ï¼Œæ¯æœˆ 125,000 è¯·æ±‚æ¬¡æ•°å’Œ 100 å°æ—¶å‡½æ•°è®¡ç®—æ—¶é•¿ï¼Œçœ‹ä¸Šå»æ˜¯å®Œå…¨å¤Ÿäº†ã€‚\nMongoDB Atlas ç”³è¯·èµ„æº MongoDB Atlas\næŒ‰ç…§Twikooå®˜ç½‘æŒ‡å¯¼ï¼Œç”³è¯·ä¸€ä¸ªè´¦å·å’Œ500MBç©ºé—´çš„MonogoDBæ•°æ®åº“ã€‚\næ³¨å†ŒMongoDB Atlasè´¦å· æ— è„‘ä¸‹ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªMonogoDBå®ä¾‹ï¼Œè¿™é‡Œåˆ›å»ºæ•°æ®åº“ç”¨æˆ·çš„æ—¶å€™å¯†ç è®°ä½ï¼Œåé¢è¦ç”¨ ä¿®æ”¹Network Accessä¸º 0.0.0.0 å…è®¸æ‰€æœ‰IPè®¿é—® åœ¨connectä¸­æŸ¥çœ‹ä»£ç ç¤ºä¾‹ï¼Œé€‰Node.jså¯ä»¥çœ‹åˆ°è¿æ¥ä¸²ï¼ŒæŠŠæ•°æ®åº“ç”¨æˆ·å¯†ç æ›¿æ¢è¿›å»ï¼ŒæŠŠæ•´ä¸ªURLå¤åˆ¶ä¸‹æ¥ï¼Œç­‰éƒ¨ç½²äº‘å‡½æ•°çš„æ—¶å€™æœ‰ç”¨ Netlify éƒ¨ç½²äº‘å‡½æ•° Netlify\næ³¨å†ŒNetlifyè´¦å·ï¼Œæ³¨å†Œçš„æ—¶å€™éœ€è¦æä¾›èº«ä»½éªŒè¯ï¼ˆæœ‰ç‚¹æ¶å¿ƒäººäº†ï¼‰ï¼Œå¯†ç éœ€è¦è®¾ç½®å¾—å¤æ‚ä¸€ç‚¹ï¼Œä¸ç„¶ç›´æ¥ä¸ç»™ç™»å½•ä¹Ÿä¸æç¤ºï¼Œæˆ‘é€šè¿‡å¿˜è®°å¯†ç æ”¹äº†ä¸€ä¸ªå¾ˆå¤æ‚çš„~~ï¼ˆæ—¶éš”ä¸‰å¤©æ¥æ ¡éªŒåšå®¢çš„æ—¶å€™æˆ‘å·²ç»å¿˜è®°äº†ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œæµè§ˆå™¨æ›¿æˆ‘è®°ä½äº†ï¼‰~~ Forkå®˜æ–¹çš„ä»“åˆ°è‡ªå·±çš„Githubï¼Œä»ä»“åº“éƒ¨ç½²ç«™ç‚¹ï¼Œç¯å¢ƒå˜é‡ä¸­å¡«å…¥ MONGODB_URI å€¼ä¸ºMonoDB Atlasä¸­å¤åˆ¶å‡ºæ¥çš„URL ç‚¹xxx.netlify.appè¿›å…¥é¡µé¢ï¼Œçœ‹åˆ°äº‘å‡½æ•°æ­£å¸¸è¿è¡Œå°±æ˜¯éƒ¨ç½²æˆåŠŸäº† å‰ç«¯éƒ¨ç½² éœ€è¦æŠŠå‰ç«¯JSåµŒå…¥åˆ°Hugoçš„Htmlé¡µé¢ä¸­ï¼Œåœ¨ layout/comments.html æ–‡ä»¶ä¸­æ·»åŠ ä»£ç  ï¼ˆå¦‚æœæœ‰å…¶ä»–è¯„è®ºç»„ä»¶è¯·è‡ªè¡Œåˆ é™¤ï¼‰\n\u003cdiv id=\"tcomment\"\u003e\u003c/div\u003e \u003cscript src=\"https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js\"\u003e\u003c/script\u003e \u003cscript\u003e twikoo.init({ envId: 'https://xxx.netlify.app/.netlify/functions/twikoo', el: '#tcomment', // å®¹å™¨å…ƒç´  }) \u003c/script\u003e ä½¿ç”¨é…ç½® è¿›å…¥ç®¡ç†å‘˜ç•Œé¢ï¼Œé¦–æ¬¡è¿›å…¥é…ç½®å¯†ç  é…ç½®é‚®ç®±é€šçŸ¥ï¼ŒHotmailé…ç½®äº†æ— æ³•æµ‹è¯•é€šè¿‡ï¼Œæš‚æ—¶æ²¡æ‰¾åˆ°åŸå› ï¼Œåæ¥é…ç½®äº†ä¸€ä¸ª163çš„é‚®ç®±ï¼ˆéœ€è¦å¡«æˆæƒç ï¼Œå¬è¯´qqæ›´æ–¹ä¾¿ä¸€ç‚¹ï¼Œgmailæ²¡æœ‰å°è¯•ï¼‰ ååƒåœ¾é…ç½®ï¼Œä½¿ç”¨é»˜è®¤çš„ååƒåœ¾æœåŠ¡ akismetï¼Œæ”¯ä»˜ä¸€ä¸ª0å…ƒè´¦å•å°±å¯ä»¥è·å¾—ä¸€ä¸ªAPPKeyï¼Œå¡«å…¥é…ç½®é‡Œé¢å°±å¥½ å¤´åƒæœåŠ¡ï¼Œé»˜è®¤çš„ weavatarï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œä¸Šä¼ ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å¤´åƒã€‚ä½†æ˜¯è¿™è¾¹é‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥‡æ€ªçš„é—®é¢˜ï¼ŒåŒæ—¶è¾“å…¥æ˜µç§°å’Œé‚®ç®±ï¼Œå¤´åƒå°±ä¼šè¯»å–å¤±è´¥ï¼ˆä½†æ˜¯åæ¥å‘ç°ç”Ÿäº§ä¸Šå¥½åƒå¯ä»¥ï¼‰ï¼Œæ‰€ä»¥æˆ‘åœ¨é€šç”¨è®¾ç½®é‡Œé¢æŠŠå¿…å¡«å­—æ®µæ”¹æˆäº†åªå¡«é‚®ç®±ï¼Œå› ä¸ºæ˜µç§°å¡«QQå·ä¼šè‡ªåŠ¨ç”Ÿæˆqqé‚®ç®±ã€‚ ä¾§é¢æ˜¾ç¤ºç›®å½• å‚è€ƒèµ„æ–™ï¼š https://www.zhouxin.space/logs/introduce-side-toc-and-reading-percentage-to-papermod/\nåˆ›å»ºæ–‡ä»¶ layouts/partials/toc.html è¾“å…¥ä»¥ä¸‹ä»£ç ï¼ˆä»£ç å…¨æ˜¯æŠ„çš„ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼‰ {{- $headers := findRE \"\u003ch[1-6].*?\u003e(.|\\n])+?\u003c/h[1-6]\u003e\" .Content -}} {{- $has_headers := ge (len $headers) 1 -}} {{- if $has_headers -}} \u003caside id=\"toc-container\" class=\"toc-container wide\"\u003e \u003cdiv class=\"toc\"\u003e \u003cdetails {{if (.Param \"TocOpen\") }} open{{ end }}\u003e \u003csummary accesskey=\"c\" title=\"(Alt + C)\"\u003e \u003cspan class=\"details\"\u003e{{- i18n \"toc\" | default \"Table of Contents\" }}\u003c/span\u003e \u003c/summary\u003e \u003cdiv class=\"inner\"\u003e {{- $largest := 6 -}} {{- range $headers -}} {{- $headerLevel := index (findRE \"[1-6]\" . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{- if lt $headerLevel $largest -}} {{- $largest = $headerLevel -}} {{- end -}} {{- end -}} {{- $firstHeaderLevel := len (seq (index (findRE \"[1-6]\" (index $headers 0) 1) 0)) -}} {{- $.Scratch.Set \"bareul\" slice -}} \u003cul\u003e {{- range seq (sub $firstHeaderLevel $largest) -}} \u003cul\u003e {{- $.Scratch.Add \"bareul\" (sub (add $largest .) 1) -}} {{- end -}} {{- range $i, $header := $headers -}} {{- $headerLevel := index (findRE \"[1-6]\" . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{/* get id=\"xyz\" */}} {{- $id := index (findRE \"(id=\\\"(.*?)\\\")\" $header 9) 0 }} {{- /* strip id=\"\" to leave xyz, no way to get regex capturing groups in hugo */ -}} {{- $cleanedID := replace (replace $id \"id=\\\"\" \"\") \"\\\"\" \"\" }} {{- $header := replaceRE \"\u003ch[1-6].*?\u003e((.|\\n])+?)\u003c/h[1-6]\u003e\" \"$1\" $header -}} {{- if ne $i 0 -}} {{- $prevHeaderLevel := index (findRE \"[1-6]\" (index $headers (sub $i 1)) 1) 0 -}} {{- $prevHeaderLevel := len (seq $prevHeaderLevel) -}} {{- if gt $headerLevel $prevHeaderLevel -}} {{- range seq $prevHeaderLevel (sub $headerLevel 1) -}} \u003cul\u003e {{/* the first should not be recorded */}} {{- if ne $prevHeaderLevel . -}} {{- $.Scratch.Add \"bareul\" . -}} {{- end -}} {{- end -}} {{- else -}} \u003c/li\u003e {{- if lt $headerLevel $prevHeaderLevel -}} {{- range seq (sub $prevHeaderLevel 1) -1 $headerLevel -}} {{- if in ($.Scratch.Get \"bareul\") . -}} \u003c/ul\u003e {{/* manually do pop item */}} {{- $tmp := $.Scratch.Get \"bareul\" -}} {{- $.Scratch.Delete \"bareul\" -}} {{- $.Scratch.Set \"bareul\" slice}} {{- range seq (sub (len $tmp) 1) -}} {{- $.Scratch.Add \"bareul\" (index $tmp (sub . 1)) -}} {{- end -}} {{- else -}} \u003c/ul\u003e \u003c/li\u003e {{- end -}} {{- end -}} {{- end -}} {{- end }} \u003cli\u003e \u003ca href=\"#{{- $cleanedID -}}\" aria-label=\"{{- $header | plainify -}}\"\u003e{{- $header | safeHTML -}}\u003c/a\u003e {{- else }} \u003cli\u003e \u003ca href=\"#{{- $cleanedID -}}\" aria-label=\"{{- $header | plainify -}}\"\u003e{{- $header | safeHTML -}}\u003c/a\u003e {{- end -}} {{- end -}} {{- $firstHeaderLevel := $largest }} {{- $lastHeaderLevel := len (seq (index (findRE \"[1-6]\" (index $headers (sub (len $headers) 1)) 1) 0)) }} \u003c/li\u003e {{- range seq (sub $lastHeaderLevel $firstHeaderLevel) -}} {{- if in ($.Scratch.Get \"bareul\") (add . $firstHeaderLevel) }} \u003c/ul\u003e {{- else }} \u003c/ul\u003e \u003c/li\u003e {{- end -}} {{- end }} \u003c/ul\u003e \u003c/div\u003e \u003c/details\u003e \u003c/div\u003e \u003c/aside\u003e \u003cscript\u003e let activeElement; let elements; document.addEventListener('DOMContentLoaded', function (event) { checkTocPosition(); elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]'); if (elements.length \u003e 0) { // Make the first header active activeElement = elements[0]; const id = encodeURI(activeElement.getAttribute('id')).toLowerCase(); document.querySelector(`.inner ul li a[href=\"#${id}\"]`).classList.add('active'); } // Add event listener for the \"back to top\" link const topLink = document.getElementById('top-link'); if (topLink) { topLink.addEventListener('click', (event) =\u003e { // Prevent the default action event.preventDefault(); // Smooth scroll to the top window.scrollTo({ top: 0, behavior: 'smooth' }); }); } }, false); window.addEventListener('resize', function(event) { checkTocPosition(); }, false); window.addEventListener('scroll', () =\u003e { // Get the current scroll position const scrollPosition = window.pageYOffset || document.documentElement.scrollTop; // Check if the scroll position is at the top of the page if (scrollPosition === 0) { return; } // Ensure elements is a valid NodeList if (elements \u0026\u0026 elements.length \u003e 0) { // Check if there is an object in the top half of the screen or keep the last item active activeElement = Array.from(elements).find((element) =\u003e { if ((getOffsetTop(element) - scrollPosition) \u003e 0 \u0026\u0026 (getOffsetTop(element) - scrollPosition) \u003c window.innerHeight / 2) { return element; } }) || activeElement; elements.forEach(element =\u003e { const id = encodeURI(element.getAttribute('id')).toLowerCase(); const tocLink = document.querySelector(`.inner ul li a[href=\"#${id}\"]`); if (element === activeElement){ tocLink.classList.add('active'); // Ensure the active element is in view within the .inner container const tocContainer = document.querySelector('.toc .inner'); const linkOffsetTop = tocLink.offsetTop; const containerHeight = tocContainer.clientHeight; const linkHeight = tocLink.clientHeight; // Calculate the scroll position to center the active link const scrollPosition = linkOffsetTop - (containerHeight / 2) + (linkHeight / 2); tocContainer.scrollTo({ top: scrollPosition, behavior: 'smooth' }); } else { tocLink.classList.remove('active'); } }); } }, false); const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10); const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10); const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10); function checkTocPosition() { const width = document.body.scrollWidth; if (width - main - (toc * 2) - (gap * 4) \u003e 0) { document.getElementById(\"toc-container\").classList.add(\"wide\"); } else { document.getElementById(\"toc-container\").classList.remove(\"wide\"); } } function getOffsetTop(element) { if (!element.getClientRects().length) { return 0; } let rect = element.getBoundingClientRect(); let win = element.ownerDocument.defaultView; return rect.top + win.pageYOffset; } \u003c/script\u003e {{- end }} åˆ›å»º assets/css/extended/toc.css æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼ˆä¹Ÿæ˜¯æŠ„çš„ï¼Œæ„Ÿè°¢å¤§ä½¬ï¼Œèµç¾å¤§ä½¬ï¼‰ :root { --nav-width: 1380px; --article-width: 650px; --toc-width: 300px; } .toc { margin: 0 2px 40px 2px; border: 1px solid var(--border); background: var(--entry); border-radius: var(--radius); padding: 0.4em; } .toc-container.wide { position: absolute; height: 100%; border-right: 1px solid var(--border); left: calc((var(--toc-width) + var(--gap)) * -1); top: calc(var(--gap) * 2); width: var(--toc-width); } .wide .toc { position: sticky; top: var(--gap); border: unset; background: unset; border-radius: unset; width: 100%; margin: 0 2px 40px 2px; } .toc details summary { cursor: zoom-in; margin-inline-start: 20px; padding: 12px 0; } .toc details[open] summary { font-weight: 500; } .toc-container.wide .toc .inner { margin: 0; } .active { font-size: 110%; font-weight: 600; } .toc ul { list-style-type: circle; } .toc .inner { margin: 0 0 0 20px; padding: 0px 15px 15px 20px; font-size: 16px; /*ç›®å½•æ˜¾ç¤ºé«˜åº¦*/ max-height: 83vh; overflow-y: auto; } .toc .inner::-webkit-scrollbar-thumb { /*æ»šåŠ¨æ¡*/ background: var(--border); border: 7px solid var(--theme); border-radius: var(--radius); } .toc li ul { margin-inline-start: calc(var(--gap) * 0.5); list-style-type: none; } .toc li { list-style: none; font-size: 0.95rem; padding-bottom: 5px; } .toc li a:hover { color: var(--secondary); } åŒæ—¶åœ¨archetypes\\default.ymlä¸­æ·»åŠ å‚æ•° showToc: true # æ˜¾ç¤ºç›®å½• TocOpen: true # æ‰“å¼€ç›®å½• PV/UV ä¸è’œå­Busuanzi ä½¿ç”¨ä¸è’œå­Busuanziè¿›è¡Œç«™ç‚¹è®¿é—®ç»Ÿè®¡ã€‚ å‚è€ƒé“¾æ¥ï¼š https://blog.kanikig.xyz/hugo-busuanzi/\næ·»åŠ æ–‡ä»¶ layouts\\parials\\head.html ä»ä¸»é¢˜æ–‡ä»¶å¤¹ themes\\layouts\\parials\\head.html ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨Stylesä¸Šæ–¹æ·»åŠ ä¸€ä¸ªifå— ... {{- if site.Params.analytics.naver.SiteVerificationTag }} \u003cmeta name=\"naver-site-verification\" content=\"{{ site.Params.analytics.naver.SiteVerificationTag }}\"\u003e {{- end }} {{- if .Site.Params.busuanzi.enable -}} \u003cscript async src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"\u003e\u003c/script\u003e \u003cmeta name=\"referrer\" content=\"no-referrer-when-downgrade\"\u003e {{- end -}} {{- /* Styles */}} ... æ·»åŠ æ–‡ä»¶ layouts\\parials\\footer.html ä»ä¸»é¢˜æ–‡ä»¶å¤¹ themes\\layouts\\parials\\footer.html ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨footeræ ‡ç­¾å†…æ·»åŠ ä¸€ä¸ªifå— ... {{- if not (.Param \"hideFooter\") }} \u003cfooter class=\"footer\"\u003e {{- if not site.Params.footer.hideCopyright }} {{- if site.Copyright }} \u003cspan\u003e{{ site.Copyright | markdownify }}\u003c/span\u003e {{- else }} \u003cspan\u003e\u0026copy; {{ now.Year }} \u003ca href=\"{{ \"\" | absLangURL }}\"\u003e{{ site.Title }}\u003c/a\u003e\u003c/span\u003e {{- end }} {{- print \" Â· \"}} {{- end }} {{- with site.Params.footer.text }} {{ . | markdownify }} {{- print \" Â· \"}} {{- end }} {{ if .Site.Params.busuanzi.enable -}} \u003cdiv class=\"busuanzi-footer\"\u003e \u003cspan id=\"busuanzi_container_site_pv\"\u003e æœ¬ç«™æ€»è®¿é—®é‡\u003cspan id=\"busuanzi_value_site_pv\"\u003e\u003c/span\u003eæ¬¡ \u003c/span\u003e \u003cspan id=\"busuanzi_container_site_uv\"\u003e æœ¬ç«™è®¿å®¢æ•°\u003cspan id=\"busuanzi_value_site_uv\"\u003e\u003c/span\u003eäººæ¬¡ \u003c/span\u003e \u003c/div\u003e {{- end -}} \u003cspan\u003e Powered by \u003ca href=\"https://gohugo.io/\" rel=\"noopener noreferrer\" target=\"_blank\"\u003eHugo\u003c/a\u003e \u0026 \u003ca href=\"https://github.com/adityatelange/hugo-PaperMod/\" rel=\"noopener\" target=\"_blank\"\u003ePaperMod\u003c/a\u003e \u003c/span\u003e \u003c/footer\u003e ... {{- end }} æ·»åŠ æ–‡ä»¶ layouts\\_defaults\\single.html ä»ä¸»é¢˜æ–‡ä»¶å¤¹ themes\\layouts\\_defaults\\single.html ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨post-metaå†…æ·»åŠ ä¸€ä¸ªifå— ... \u003cdiv class=\"post-meta\"\u003e {{- partial \"post_meta.html\" . -}} {{- partial \"translation_list.html\" . -}} {{- partial \"edit_post.html\" . -}} {{- partial \"post_canonical.html\" . -}} {{ if .Site.Params.busuanzi.enable -}} \u003cdiv class=\"meta-item\"\u003e\u0026nbspÂ·\u0026nbsp \u003cspan id=\"busuanzi_container_page_pv\"\u003eæœ¬æ–‡é˜…è¯»é‡\u003cspan id=\"busuanzi_value_page_pv\"\u003e\u003c/span\u003eæ¬¡\u003c/span\u003e \u003c/div\u003e {{- end }} \u003c/div\u003e ... åœ¨hugo.htmlæ–‡ä»¶ä¸­çš„paramèŠ‚ç‚¹ä¸­æ·»åŠ å¼€å…³ params: busuanzi: enable: true Google Analyze åªéœ€è¦åœ¨ hugo.yaml ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ï¼Œidæ›´æ¢ä¸ºè‡ªå·±åœ¨Google Analyticä¸­ç”³è¯·çš„è·Ÿè¸ªID\nservices: googleAnalytics: id: \"G-XXXXXXXXXX\" æ—¶é—´çº¿ æ·»åŠ ä¸€ä¸ªæ ¹æ®æ—¶é—´çº¿æ’åˆ—çš„å½’æ¡£é¡µé¢ï¼Œå†™çš„å¤šå†™çš„ä¹…æ‰æœ‰è´¨æ„Ÿã€‚å¤šå†™å†™å§ï¼\næ·»åŠ  content\\archive.md æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ --- title: \"\" layout: \"archives\" url: \"/archives/\" summary: archives --- åœ¨ hugo.html ä¸­æ·»åŠ æŒ‰é’®ï¼Œåœ¨ menu.main èŠ‚ç‚¹ä¸‹æ–°å¢ä»¥ä¸‹å†…å®¹ - identifier: archive name: æ—¶é—´è½´ url: /archives/ weight: 11 ç•™è¨€æ¿ åˆ©ç”¨è¯„è®ºç³»ç»Ÿï¼Œæ–°å¢ä¸€ä¸ªLayoutæ¥æ„å»ºä¸€ä¸ªç•™è¨€æ¿é¡µé¢ã€‚\nåˆ›å»º layouts\\message.html æ–‡ä»¶è¾“å…¥ä¸€ä¸‹ä»£ç ï¼ˆä»£ç ä» single.html ä¸­åˆ é™¤äº†å¾ˆå¤šä¸œè¥¿ï¼Œç®€åŒ–å¾—åˆ°ï¼Œé¡ºä¾¿åšäº†ä¸€ä¸‹æ ‡é¢˜å±…ä¸­ï¼Œè¿™å›æ˜¯è‡ªå·±å†™çš„äº†ï¼‰ï¼š {{- define \"main\" }} \u003carticle class=\"post-single\"\u003e \u003cheader class=\"post-header\"\u003e \u003ch1 class=\"post-title entry-hint-parent\"\u003e \u003cdiv style=\"margin-left: auto;margin-right: auto;\"\u003e {{ .Title }} \u003c/div\u003e \u003c/h1\u003e \u003c/header\u003e {{- if .Content }} \u003cdiv class=\"post-content\"\u003e {{ .Content }} \u003c/div\u003e {{- end }} \u003cfooter class=\"post-footer\"\u003e \u003cdiv id=\"tcomment\"\u003e\u003c/div\u003e \u003cscript src=\"https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js\"\u003e\u003c/script\u003e \u003cscript\u003e twikoo.init({ envId: 'xxx', el: '#tcomment', }) \u003c/script\u003e \u003c/footer\u003e \u003c/article\u003e {{- end }} åœ¨å‘½ä»¤è¡Œä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„mdæ–‡ä»¶(ä¸è¦ç›´æ¥æ–°å»ºæ–‡ä»¶ï¼Œæˆ‘è¯•äº†ï¼Œç¼–è¯‘çš„æ—¶å€™ä¸ä¼šç”Ÿæˆæ–‡ä»¶ï¼Œä¼šå¯¼è‡´404)ï¼Œè¾“å…¥ hugo new message.mdï¼Œå¹¶åœ¨å…¶ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç  --- title: \"ğŸ’¬ ç•™è¨€æ¿\" date: '2024-12-13T21:14:22+08:00' draft: false # é»˜è®¤ä¸ºè‰ç¨¿æ¨¡å¼ layout: \"message\" comments: true # è¯„è®º --- åœ¨ hugo.yaml ä¸­æ–°å¢é¦–é¡µç›®å½•ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç  - identifier: message name: ğŸ’¬ ç•™è¨€æ¿ url: /message/ weight: 21 æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´ å¤åˆ¶ä¸»é¢˜ä¸­çš„ post_meta.html åˆ° layout/post_meta.html æ–°å¢æœ€è¿‘ä¿®æ”¹æ—¶é—´çš„å†…å®¹ï¼Œå¹¶ä¿®æ”¹å‘å¸ƒæ—¶é—´çš„å†…å®¹å’Œå›½é™…åŒ–ï¼Œ\nåœ¨ layout/post_meta.html è¾“å…¥ä»¥ä¸‹ä»£ç  {{- $scratch := newScratch }} {{- if not .Date.IsZero -}} {{- $dateStr := .Date.Format (default \"January 2, 2006\" site.Params.DateFormat) -}} {{- $translatedPublished := i18n \"published\" -}} {{- $dateHTML := printf \"\u003cspan title='%s'\u003e%s\u003c/span\u003e\" (.Date) $dateStr -}} {{- $scratch.Add \"meta\" (slice (printf \"%s %s\" $translatedPublished $dateHTML)) }} {{- end }} {{- if not .Lastmod.IsZero -}} {{- $lastmodStr := .Lastmod.Format (default \"January 2, 2006\" site.Params.DateFormat) -}} {{- $translatedLastModified := i18n \"last_modified\" -}} {{- $lastmodHTML := printf \"\u003cspan title='%s'\u003e%s\u003c/span\u003e\" (.Lastmod) $lastmodStr -}} {{- $scratch.Add \"meta\" (slice (printf \"%s %s\" $translatedLastModified $lastmodHTML)) }} {{- end }} {{- if (.Param \"ShowReadingTime\") -}} {{- $scratch.Add \"meta\" (slice (i18n \"read_time\" .ReadingTime | default (printf \"%d min\" .ReadingTime))) }} {{- end }} {{- if (.Param \"ShowWordCount\") -}} {{- $scratch.Add \"meta\" (slice (i18n \"words\" .WordCount | default (printf \"%d words\" .WordCount))) }} {{- end }} {{- if not (.Param \"hideAuthor\") -}} {{- with (partial \"author.html\" .) }} {{- $scratch.Add \"meta\" (slice .) }} {{- end }} {{- end }} {{- with ($scratch.Get \"meta\") }} {{- delimit . \"\u0026nbsp;Â·\u0026nbsp;\" | safeHTML -}} {{- end -}} åœ¨i18næ–‡ä»¶å¤¹çš„å¯¹åº”ç›®å½•æ·»åŠ ç¿»è¯‘ åœ¨ hugo.yaml ä¸­æ–°å¢é…ç½® frontmatte.lastmod: ['lastmod', ':git', 'date', 'publishDate'] ç”¨äºæŒ‡å®šlastmodå˜é‡çš„èµ‹å€¼é¡ºåº è‡ªå®šä¹‰åŸŸå é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªåŸŸåï¼Œåœ¨å¯¹åº”çš„åŸŸåæœåŠ¡å•†æ·»åŠ ä¸€æ¡è§£æè®°å½•ï¼Œè§£æç±»å‹ï¼šCNAMEï¼Œè§£æå€¼ä¸º xxx.github.io (xxxæ›¿æ¢ä¸ºè‡ªå·±çš„Githubç”¨æˆ·å)\nå†æ·»åŠ æ–‡ä»¶ static\\CNAME ,æ–‡ä»¶çš„å†…å®¹ä¸ºè‡ªå®šä¹‰çš„åŸŸåã€‚æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œè®¿é—®åŸŸåä¼šå‡ºç°404ã€‚\nç•Œé¢æ˜¾ç¤ºä¼˜åŒ– é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡ åœ¨ hugo.html æ–‡ä»¶ä¸­æ·»åŠ é…ç½® defaultContentLanguage: zh å¯ä»¥æ±‰åŒ–å¤§éƒ¨åˆ†ä¸»é¢˜çš„å†…å®¹\næ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ– åœ¨ hugo.html æ–‡ä»¶ä¸­çš„ParamèŠ‚ç‚¹ä¸‹æ·»åŠ é…ç½® DateFormat: \"2006-01-02\" (goçš„æ—¶é—´é…ç½®å¿…é¡»è¦ç”¨è¿™ä¸ªæ—¥æœŸï¼Œyyyy-MM-ddä¸è¡Œ)\næ ‡ç­¾é¡µæ·»åŠ è¯äº‘ å‚è€ƒèµ„æ–™ï¼š https://blog.xlap.top/post/tech/wordcloud4hugo/#%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80 æ„Ÿè°¢å¼€æºä½œè€…å’Œå¤§ä½¬ä»£ç ï¼Œæˆ‘ç›´æ¥æŠ„äº†\nä¸‹è½½ wordcloud2.js æ‹·è´åˆ° static/js/ ç›®å½•ä¸‹ï¼Œä¸‹è½½åœ°å€ ä¿®æ”¹ head.html å¼•å…¥jsæ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹ä»£ç ï¼š {{- if eq .Section \"tags\"}} {{/* æ ‡ç­¾äº‘ */}} \u003clink rel=\"stylesheet\" href=\"/css/word-cloud.css\"\\\u003e \u003cscript src=\"/js/wordcloud2.js\"\u003e\u003c/script\u003e {{- end }} åˆ›å»º staic/css/word-cloud.css æ–‡ä»¶è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š .word-color:nth-child(7n + 1) { color: rgb(202, 110, 255); } .word-color:nth-child(7n + 2) { color: rgb(83, 110, 255); } .word-color:nth-child(7n + 3) { color: rgb(143, 253, 241); } .word-color:nth-child(7n + 4) { color: rgb(183, 255, 112); } .word-color:nth-child(7n + 5) { color: rgb(255, 212, 126); } .word-color:nth-child(7n + 6) { color: rgb(248, 140, 131); } .word-color:nth-child(7n + 7) { color: rgb(104, 160, 255); } @keyframes word { 0% { opacity: 0.5; } 3% { opacity: 1; } 9% { opacity: 1; } 12% { opacity: 0.5; } 100% { opacity: 0.5; } } .word-animate { animation-name: word; animation-duration: 20s; animation-iteration-count: infinite; will-change: opacity; opacity: 0.5; } .word-animate:nth-child(7n + 1) { animation-delay: 0s; } .word-animate:nth-child(7n + 2) { animation-delay: 3s; } .word-animate:nth-child(7n + 3) { animation-delay: 6s; } .word-animate:nth-child(7n + 4) { animation-delay: 9s; } .word-animate:nth-child(7n + 5) { animation-delay: 12s; } .word-animate:nth-child(7n + 6) { animation-delay: 15s; } .word-animate:nth-child(7n + 7) { animation-delay: 18s; } åˆ›å»º layouts/_default/terms.html è¾“å…¥ä»¥ä¸‹ä»£ç  {{- define \"main\" }} {{- if .Title }} \u003cheader class=\"page-header\"\u003e \u003ch1\u003e{{ .Title }}\u003c/h1\u003e {{- if .Description }} \u003cdiv class=\"post-description\"\u003e {{ .Description }} \u003c/div\u003e {{- end }} \u003c/header\u003e {{- end }} \u003cul class=\"terms-tags\"\u003e \u003cdiv id=\"sourrounding_div\" style=\"width:100%;height:100%;min-height: 500px;\"\u003e \u003cdiv id=\"tag-canvas\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cscript src=\"/js/wordcloud2.js\"\u003e\u003c/script\u003e {{- range $key, $value := .Data.Terms.Alphabetical }} {{ if eq \"\" ($.Scratch.Get \"tagsMap\") }} {{ $.Scratch.Set \"tagsMap\" (slice (dict .Name .Count)) }} {{ else }} {{ $.Scratch.Add \"tagsMap\" (slice (dict .Name .Count)) }} {{ end }} {{- end }} {{ $result := ($.Scratch.Get \"tagsMap\")}} \u003cspan id=\"tag-temp\" style=\"display:none\"\u003e{{$result | jsonify }}\u003c/span\u003e \u003cscript\u003e //å› ä¸ºå‰æœŸæ¯ä¸ªæ ‡ç­¾å€¼æ¯”è¾ƒå°ï¼Œå¸®Xä¸€ä¸ªç³»æ•° var XISHU = 20; //ä¸ºäº†åŠ¨æ€å®½åº¦ var div = document.querySelector(\"#sourrounding_div\"); var canvas = document.querySelector(\"#tag-canvas\"); canvas.style.width = div.offsetWidth + 'px'; canvas.style.height = div.offsetHeight + 'px'; var wordFreqData = document.querySelector(\"#tag-temp\").innerHTML; var jsonObj = JSON.parse(wordFreqData); var arr = [] jsonObj.forEach(element =\u003e { var key = Object.keys(element); var itemArr = [key[0], element[key] * XISHU]; arr.push(itemArr); }); //è·å–å½“å‰æ˜¯æš—è‰²è¿˜æ˜¯æµ…è‰² var isDark = document.body.className.includes(\"dark\"); WordCloud(canvas, { \"list\": arr,//æˆ–è€…[['å„ä½è§‚ä¼—',45],['è¯äº‘', 21],['æ¥å•¦!!!',13]],åªè¦æ ¼å¼æ»¡è¶³è¿™æ ·éƒ½å¯ä»¥ \"shape\": \"cardioid\", //å½¢çŠ¶ circle (default), cardioid (å¿ƒå‹), diamond, square, triangle-forward, triangle, pentagon, and star. \"gridSize\": 20, // å¯†é›†ç¨‹åº¦ æ•°å­—è¶Šå°è¶Šå¯†é›† \"weightFactor\": 1, // å­—ä½“å¤§å°=åŸå§‹å¤§å°*weightFactor \"fontWeight\": 'normal', //å­—ä½“ç²—ç»† \"fontFamily\": 'Times, serif', // å­—ä½“ \"color\": isDark ? 'random-light' : 'random-dark', // å­—ä½“é¢œè‰² 'random-dark' æˆ–è€… 'random-light' \"backgroundColor\": 'none', // èƒŒæ™¯é¢œè‰² \"classes\": \"tag-cloud-item word-color\", //ç”¨äºç‚¹å‡»äº‹ä»¶ }); canvas.addEventListener('wordcloudstop', function (e) { //åŠ¨ç”» setTimeout(() =\u003e { var els = document.querySelectorAll(\".word-color\"); Array.from(els).forEach((el) =\u003e { console.log('åŠ¨ç”»', el) el.classList.add(\"word-animate\") }) }, 2000); //ç‚¹å‡» document.querySelectorAll('.tag-cloud-item').forEach(function (element) { const text = element.innerHTML; element.innerHTML = `",
  "wordCount" : "2468",
  "inLanguage": "zh",
  "datePublished": "2024-01-01T02:00:00+08:00",
  "dateModified": "2024-12-25T15:26:35+08:00",
  "author":{
    "@type": "Person",
    "name": "Zanks"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zanksc.github.io/2024/01/01/hugo-2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ä¹±è¯ä¸‰åƒ",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zanksc.github.io/assets/favicon.ico"
    }
  }
}
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zanksc.github.io/" accesskey="h" title="ä¹±è¯ä¸‰åƒ (Alt + H)">ä¹±è¯ä¸‰åƒ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zanksc.github.io/search/" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://zanksc.github.io/posts/" title="ğŸ“– æ–‡ç« ">
                    <span>ğŸ“– æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://zanksc.github.io/archives/" title="âŒ› æ—¶é—´è½´">
                    <span>âŒ› æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://zanksc.github.io/tags/" title="ğŸ·ï¸ æ ‡ç­¾">
                    <span>ğŸ·ï¸ æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://zanksc.github.io/message/" title="ğŸ’¬ ç•™è¨€æ¿">
                    <span>ğŸ’¬ ç•™è¨€æ¿</span>
                </a>
            </li>
            <li>
                <a href="https://zanksc.github.io/about/" title="ğŸ˜¾ å…³äº">
                    <span>ğŸ˜¾ å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://zanksc.github.io/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://zanksc.github.io/posts/">ğŸ“– æ–‡ç« </a></div>
    <h1 class="post-title entry-hint-parent">
      ã€Hugoã€‘è¿›é˜¶ç¯‡ï¼šPaperModä¸»é¢˜ç¾åŒ–
    </h1>
    <div class="post-description">
      HugoåŸºæœ¬åŠŸèƒ½æ‰©å±•ï¼ˆè®¿é—®é‡ã€è¯„è®ºç­‰ï¼‰&#43; PaperModä¸»é¢˜ç¾åŒ–
    </div>
    <div class="post-meta">å‘å¸ƒäº: <no value> <span title='2024-01-01 02:00:00 +0800 +0800'>2024-01-01</span>&nbsp;Â·&nbsp;æœ€åä¿®æ”¹äº: <no value> <span title='2024-12-25 15:26:35 +0800 +0800'>2024-12-25</span>&nbsp;Â·&nbsp;12 åˆ†é’Ÿ&nbsp;Â·&nbsp;2468 å­—&nbsp;Â·&nbsp;Zanks

</div>

    
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e5%89%8d%e8%a8%80" aria-label="å‰è¨€">å‰è¨€</a></li>
                    <li>
                        <a href="#%e6%8b%93%e5%b1%95%e5%8a%9f%e8%83%bd" aria-label="æ‹“å±•åŠŸèƒ½">æ‹“å±•åŠŸèƒ½</a><ul>
                            
                    <li>
                        <a href="#%e8%af%84%e8%ae%ba" aria-label="è¯„è®º">è¯„è®º</a><ul>
                            
                    <li>
                        <a href="#gisucs" aria-label="Gisucs">Gisucs</a><ul>
                            
                    <li>
                        <a href="#github%e9%85%8d%e7%bd%ae" aria-label="Githubé…ç½®">Githubé…ç½®</a></li>
                    <li>
                        <a href="#hugo%e9%85%8d%e7%bd%ae" aria-label="Hugoé…ç½®">Hugoé…ç½®</a></li></ul>
                    </li>
                    <li>
                        <a href="#twikoo" aria-label="Twikoo">Twikoo</a><ul>
                            
                    <li>
                        <a href="#mongodb-atlas-%e7%94%b3%e8%af%b7%e8%b5%84%e6%ba%90" aria-label="MongoDB Atlas ç”³è¯·èµ„æº">MongoDB Atlas ç”³è¯·èµ„æº</a></li>
                    <li>
                        <a href="#netlify-%e9%83%a8%e7%bd%b2%e4%ba%91%e5%87%bd%e6%95%b0" aria-label="Netlify éƒ¨ç½²äº‘å‡½æ•°">Netlify éƒ¨ç½²äº‘å‡½æ•°</a></li>
                    <li>
                        <a href="#%e5%89%8d%e7%ab%af%e9%83%a8%e7%bd%b2" aria-label="å‰ç«¯éƒ¨ç½²">å‰ç«¯éƒ¨ç½²</a></li>
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8%e9%85%8d%e7%bd%ae" aria-label="ä½¿ç”¨é…ç½®">ä½¿ç”¨é…ç½®</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e4%be%a7%e9%9d%a2%e6%98%be%e7%a4%ba%e7%9b%ae%e5%bd%95" aria-label="ä¾§é¢æ˜¾ç¤ºç›®å½•">ä¾§é¢æ˜¾ç¤ºç›®å½•</a></li>
                    <li>
                        <a href="#pvuv" aria-label="PV/UV">PV/UV</a><ul>
                            
                    <li>
                        <a href="#%e4%b8%8d%e8%92%9c%e5%ad%90busuanzi" aria-label="ä¸è’œå­Busuanzi">ä¸è’œå­Busuanzi</a></li>
                    <li>
                        <a href="#google-analyze" aria-label="Google Analyze">Google Analyze</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%97%b6%e9%97%b4%e7%ba%bf" aria-label="æ—¶é—´çº¿">æ—¶é—´çº¿</a></li>
                    <li>
                        <a href="#%e7%95%99%e8%a8%80%e6%9d%bf" aria-label="ç•™è¨€æ¿">ç•™è¨€æ¿</a></li>
                    <li>
                        <a href="#%e6%b7%bb%e5%8a%a0%e6%9c%80%e8%bf%91%e4%bf%ae%e6%94%b9%e6%97%b6%e9%97%b4" aria-label="æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´">æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´</a></li>
                    <li>
                        <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%9f%9f%e5%90%8d" aria-label="è‡ªå®šä¹‰åŸŸå">è‡ªå®šä¹‰åŸŸå</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%95%8c%e9%9d%a2%e6%98%be%e7%a4%ba%e4%bc%98%e5%8c%96" aria-label="ç•Œé¢æ˜¾ç¤ºä¼˜åŒ–">ç•Œé¢æ˜¾ç¤ºä¼˜åŒ–</a><ul>
                            
                    <li>
                        <a href="#%e9%85%8d%e7%bd%ae%e9%bb%98%e8%ae%a4%e8%af%ad%e8%a8%80%e4%b8%ba%e4%b8%ad%e6%96%87" aria-label="é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡">é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡</a></li>
                    <li>
                        <a href="#%e6%97%a5%e6%9c%9f%e6%a0%bc%e5%bc%8f%e6%98%be%e7%a4%ba%e4%bc%98%e5%8c%96" aria-label="æ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ–">æ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ–</a></li>
                    <li>
                        <a href="#%e6%a0%87%e7%ad%be%e9%a1%b5%e6%b7%bb%e5%8a%a0%e8%af%8d%e4%ba%91" aria-label="æ ‡ç­¾é¡µæ·»åŠ è¯äº‘">æ ‡ç­¾é¡µæ·»åŠ è¯äº‘</a></li>
                    <li>
                        <a href="#url%e7%ae%a1%e7%90%86" aria-label="urlç®¡ç†">urlç®¡ç†</a></li>
                    <li>
                        <a href="#%e4%b8%ba%e6%96%87%e7%ab%a0%e6%b7%bb%e5%8a%a0%e8%bf%87%e6%9c%9f%e6%8f%90%e7%a4%ba" aria-label="ä¸ºæ–‡ç« æ·»åŠ è¿‡æœŸæç¤º">ä¸ºæ–‡ç« æ·»åŠ è¿‡æœŸæç¤º</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    
    document.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();
    
        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        if (elements.length > 0) {
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }
    
        
        const topLink = document.getElementById('top-link');
        if (topLink) {
            topLink.addEventListener('click', (event) => {
                
                event.preventDefault();
    
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
    }, false);
    
    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);
    
    window.addEventListener('scroll', () => {
        
        const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
    
        
        if (scrollPosition === 0) {
            return;
        }
    
        
        if (elements && elements.length > 0) {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - scrollPosition) > 0 && 
                    (getOffsetTop(element) - scrollPosition) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement;
    
            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                const tocLink = document.querySelector(`.inner ul li a[href="#${id}"]`);
                if (element === activeElement){
                    tocLink.classList.add('active');
    
                    
                    const tocContainer = document.querySelector('.toc .inner');
                    const linkOffsetTop = tocLink.offsetTop;
                    const containerHeight = tocContainer.clientHeight;
                    const linkHeight = tocLink.clientHeight;
    
                    
                    const scrollPosition = linkOffsetTop - (containerHeight / 2) + (linkHeight / 2);
                    tocContainer.scrollTo({ top: scrollPosition, behavior: 'smooth' });
                } else {
                    tocLink.classList.remove('active');
                }
            });
        }
    }, false);
    
    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);
    
    function checkTocPosition() {
        const width = document.body.scrollWidth;
    
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }
    
    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
    
</script>

  <div class="post-content"><blockquote>
<p>è£…ä¿®ä¸€ä¸‹æ—§æ—¶ä»£çš„èˆ¹ï¼Œæ‰èƒ½å¼€é—¨è¿æ¥æ›´å¤šçš„å®¢äººã€‚</p>
</blockquote>
<h1 id="å‰è¨€">å‰è¨€<a hidden class="anchor" aria-hidden="true" href="#å‰è¨€">#</a></h1>
<p>æ­å»ºå®Œåšå®¢ä¹‹åï¼Œæ€»æ˜¯ä¼šè§‰å¾—è¿™ä¸æ»¡æ„ï¼Œç„¶ååœ¨æ­å»ºè¿‡ç¨‹ä¸­ï¼Œç”¨ç›¸åŒçš„å»ºç«™å·¥å…·å’Œä¸»é¢˜æœç´¢ï¼Œä¼šå‘ç°ç½‘ä¸Šæœ‰å¾ˆå¤šå¤§ä½¬å·²ç»æ­å»ºå¥½çš„ç«™ç‚¹ï¼Œå°±ä¼šè¿™ä¸ªåŠŸèƒ½ä¹Ÿæƒ³è¦ï¼Œé‚£ä¸ªåŠŸèƒ½ä¹Ÿæƒ³è¦ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘è®°å½•äº†ä¸€äº›æˆ‘æ­å»ºè¿‡ç¨‹ä¸­è¿›è¡ŒåŸºç¡€åŠŸèƒ½æ‹“å±•å’Œç¾åŒ–çš„è¿‡ç¨‹ã€‚å¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æœ‰ç¼˜äºº~</p>
<p>ä»¥ä¸‹æ•™ç¨‹ä¸ºè¿›é˜¶ç‰ˆçš„ç®€ç•¥æ•™ç¨‹ï¼Œéœ€è¦ä½ æœ‰æ¯”è¾ƒæ‰å®çš„ç¼–ç¨‹åŸºç¡€ï¼ˆæˆ–è€…ä¸çˆ±æ€è€ƒçš„è„‘è¢‹ï¼‰ï¼Œå¾ˆå¤šæ•™ç¨‹æ¥è‡ªç½‘ä¸Šå…¶ä»–å¤§ä½¬ï¼Œç”±äºçœ‹äº†å¤ªå¤šçš„æ•™ç¨‹ï¼Œé“¾æ¥å¼•ç”¨ä¸å…¨è¯·è§è°…ï¼Œå¦‚æœæœ‰å¤§ä½¬çœ‹åˆ°äº†å¯ä»¥è”ç³»æˆ‘åŠ ä¸Šã€‚</p>
<p>ä»¥ä¸‹ä¿®æ”¹htmlå’Œcssçš„ä»£ç éƒ½ä¸å»ºè®®åœ¨themesæ–‡ä»¶å¤¹ç›´æ¥ä¿®æ”¹ï¼Œhtmlå¯ä»¥åœ¨layoutç›®å½•ä¸‹æ–°å»ºåŒåæ–‡ä»¶ï¼ˆå¤åˆ¶è¿‡æ¥æ”¹ï¼‰ï¼Œcsså¯ä»¥åœ¨assetsç›®å½•ä¸‹æ–°å»ºï¼Œæœ€ç»ˆæ„å»ºéƒ½ä¼šæ‰“åŒ…åˆ°publicä¸­å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„è¦†ç›–ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚</p>
<h1 id="æ‹“å±•åŠŸèƒ½">æ‹“å±•åŠŸèƒ½<a hidden class="anchor" aria-hidden="true" href="#æ‹“å±•åŠŸèƒ½">#</a></h1>
<h2 id="è¯„è®º">è¯„è®º<a hidden class="anchor" aria-hidden="true" href="#è¯„è®º">#</a></h2>
<h3 id="gisucs">Gisucs<a hidden class="anchor" aria-hidden="true" href="#gisucs">#</a></h3>
<p>é€‰ç”¨Gisucsä½œä¸ºè¯„è®ºæœåŠ¡ï¼Œæœ€å¼€å§‹æˆ‘çš„é€‰æ‹©æ˜¯Gisucsï¼Œä½†æ˜¯åæ¥æˆ‘æ”¾å¼ƒäº†ã€‚Githubä½œä¸ºå­˜å‚¨è™½ç„¶æ˜¯å…¨å…è´¹ï¼Œéå¸¸ä¼˜é›…ï¼Œä½†æ˜¯è¦æ±‚è¯„è®ºè€…æ‹¥æœ‰ä¸€ä¸ªGithubè´¦å·å¯¹äºç”¨äºä½“éªŒå®åœ¨æ˜¯ä¸å¤ªå‹å¥½ã€‚</p>
<h4 id="githubé…ç½®">Githubé…ç½®<a hidden class="anchor" aria-hidden="true" href="#githubé…ç½®">#</a></h4>
<p>å‚è€ƒé“¾æ¥ï¼š <a href="https://giscus.app/zh-CN#repository">https://giscus.app/zh-CN#repository</a></p>
<ol>
<li>åœ¨æŸä¸ªGithubå…¬å¼€ä»“åº“å¼€å¯discussionåŠŸèƒ½ï¼ˆsettingsè¿›å…¥ï¼‰</li>
<li>åœ¨Githubå®‰è£…Gisucs APP</li>
<li>è®°å½•ç”Ÿæˆçš„é…ç½®å’Œä»£ç ï¼Œéœ€è¦é…ç½®åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­</li>
</ol>
<h4 id="hugoé…ç½®">Hugoé…ç½®<a hidden class="anchor" aria-hidden="true" href="#hugoé…ç½®">#</a></h4>
<p>å‚è€ƒé“¾æ¥ï¼š <a href="https://www.tofuwine.cn/posts/610b75f5/#pe-comments">https://www.tofuwine.cn/posts/610b75f5/#pe-comments</a></p>
<ol>
<li>æ·»åŠ æ–‡ä»¶ <code>layouts/partials/comments.html</code>,è¾“å…¥ä»¥ä¸‹å†…å®¹</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;comments-title&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tw-comment-title&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;x-comments-title&#34;</span>&gt;{{- .Param &#34;giscus.discussionTitle&#34; }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font-size: 1rem&#34;</span>&gt;{{- .Param &#34;giscus.discussionSubtitle&#34; }} &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tw-comment&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">getStoredTheme</span> <span style="color:#f92672">=</span> () =&gt; <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;pref-theme&#34;</span>) <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;dark&#34;</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.darkTheme }}&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.lightTheme }}&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">setGiscusTheme</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sendMessage</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">message</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">iframe</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;iframe.giscus-frame&#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">iframe</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">iframe</span>.<span style="color:#a6e22e">contentWindow</span>.<span style="color:#a6e22e">postMessage</span>({<span style="color:#a6e22e">giscus</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>}, <span style="color:#e6db74">&#39;https://giscus.app&#39;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sendMessage</span>({<span style="color:#a6e22e">setConfig</span><span style="color:#f92672">:</span> {<span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">getStoredTheme</span>()}})
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;DOMContentLoaded&#34;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">giscusAttributes</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;src&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://giscus.app/client.js&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-repo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.repo }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-repo-id&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.repoId }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-category&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.category }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-category-id&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.categoryId }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-mapping&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.mapping  }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-strict&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.strict  }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-reactions-enabled&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.reactionsEnabled}}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-emit-metadata&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.emitMetadata  }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-input-position&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.inputPosition }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-theme&#34;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">getStoredTheme</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-lang&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;{{ .Site.Params.giscus.lang }}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;data-loading&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;lazy&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;crossorigin&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;anonymous&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;async&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// åŠ¨æ€åˆ›å»º giscus script
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">giscusScript</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#34;script&#34;</span>);
</span></span><span style="display:flex;"><span>        Object.<span style="color:#a6e22e">entries</span>(<span style="color:#a6e22e">giscusAttributes</span>).<span style="color:#a6e22e">forEach</span>(
</span></span><span style="display:flex;"><span>                ([<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">value</span>]) =&gt; <span style="color:#a6e22e">giscusScript</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">value</span>));
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#tw-comment&#34;</span>).<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">giscusScript</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// é¡µé¢ä¸»é¢˜å˜æ›´åï¼Œå˜æ›´ giscus ä¸»é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">themeSwitcher</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#theme-toggle&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">themeSwitcher</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">themeSwitcher</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;click&#34;</span>, <span style="color:#a6e22e">setGiscusTheme</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">themeFloatSwitcher</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#theme-toggle-float&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">themeFloatSwitcher</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">themeFloatSwitcher</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;click&#34;</span>, <span style="color:#a6e22e">setGiscusTheme</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><ol start="2">
<li>æ·»åŠ æ–‡ä»¶ <code>assets/css/extended/comments.css</code>,è¾“å…¥ä»¥ä¸‹å†…å®¹</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#75715e">/* giscus è¯„è®ºç»„ä»¶ */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">comments-title</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">x-comments-title</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">1.25</span><span style="color:#66d9ef">em</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">700</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">rem</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">.5</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="3">
<li>åœ¨ <code>hugo.yaml</code> ä¸­æ·»åŠ å†…å®¹ï¼Œå…¶ä¸­ <code>{{}}</code> åŒ…è£¹çš„éœ€è¦æ›¿æ¢æˆè‡ªå·±çš„å†…å®¹ï¼Œå†…å®¹åœ¨Gisucsä¼šç”Ÿæˆ</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">giscus</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">repo</span>: <span style="color:#e6db74">&#34;{{ REPO }}&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">repoId</span>: <span style="color:#e6db74">&#34;{ REPO_ID }&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">category</span>: <span style="color:#e6db74">&#34;Announcements&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">categoryId</span>: <span style="color:#e6db74">&#34;{{ CATEGORYID }}&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">mapping</span>: <span style="color:#e6db74">&#34;pathname&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">strict</span>: <span style="color:#e6db74">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">reactionsEnabled</span>: <span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">emitMetadata</span>: <span style="color:#e6db74">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">inputPosition</span>: <span style="color:#e6db74">&#34;bottom&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">lightTheme</span>: <span style="color:#e6db74">&#34;light&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">darkTheme</span>: <span style="color:#e6db74">&#34;dark&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">lang</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">discussionTitle</span>: <span style="color:#ae81ff">æ¬¢è¿æ¥åˆ°è¯„è®ºåŒº</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">discussionSubtitle</span>: <span style="color:#ae81ff">æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼å¦‚éœ€äº¤æµï¼Œè¯·ç•™ä¸ªè¯„è®ºå§ï¼</span>
</span></span></code></pre></div><ol start="4">
<li>åœ¨ <code>archetypes/default.md</code> ä¸­æ·»åŠ é…ç½® <code>comments: true</code> æ¥å¼€å¯è¯„è®ºåŒºï¼Œå·²æœ‰çš„åšå®¢ä¹Ÿéœ€è¦ä¿®æ”¹è¿™ä¸ªæ¥å¼€å¯</li>
</ol>
<h3 id="twikoo">Twikoo<a hidden class="anchor" aria-hidden="true" href="#twikoo">#</a></h3>
<p><a href="https://twikoo.js.org/intro.html">Twikoo å®˜ç½‘</a></p>
<p>å› ä¸ºGisucsè¦æ±‚è¯„è®ºè€…å…·æœ‰Githubè´¦å·æœ‰ç‚¹ä½¿ç”¨è€…ä¸å¤ªå‹å¥½ï¼Œæ‰€ä»¥åé¢æ›´æ¢äº†ä¸€ä¸ªTwikoo</p>
<p>Twikooçš„æ•´ä½“å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªCSSçš„æ¶æ„ï¼ŒC-Hugoç«™ç‚¹çš„é™æ€JSä»£ç ï¼ŒS-äº‘å‡½æ•°ï¼ŒS-MonogoDBæ•°æ®åº“ã€‚Twikooçš„å®˜æ–¹æ˜¯æ‡‚æˆ‘ä»¬è¿™äº›ç©·é¬¼çš„ï¼Œæä¾›äº†å¾ˆå¤šå…è´¹éƒ¨ç½²çš„æ•™ç¨‹ã€‚æˆ‘è¿™è¾¹å°±æŒ‰ç…§å®˜æ–¹æ¨èåº¦æœ€é«˜çš„æ–¹æ³•è¿›è¡Œéƒ¨ç½²ã€‚MonogoDBé€‰æ‹©MongoDB Atlasï¼Œæœ‰500MBçš„å…è´¹é¢åº¦ã€‚Netlifyéƒ¨ç½²äº‘å‡½æ•°ï¼Œæ¯æœˆ 125,000 è¯·æ±‚æ¬¡æ•°å’Œ 100 å°æ—¶å‡½æ•°è®¡ç®—æ—¶é•¿ï¼Œçœ‹ä¸Šå»æ˜¯å®Œå…¨å¤Ÿäº†ã€‚</p>
<h4 id="mongodb-atlas-ç”³è¯·èµ„æº">MongoDB Atlas ç”³è¯·èµ„æº<a hidden class="anchor" aria-hidden="true" href="#mongodb-atlas-ç”³è¯·èµ„æº">#</a></h4>
<p><a href="https://cloud.mongodb.com">MongoDB Atlas</a></p>
<p>æŒ‰ç…§Twikooå®˜ç½‘æŒ‡å¯¼ï¼Œç”³è¯·ä¸€ä¸ªè´¦å·å’Œ500MBç©ºé—´çš„MonogoDBæ•°æ®åº“ã€‚</p>
<ol>
<li>æ³¨å†ŒMongoDB Atlasè´¦å·</li>
<li>æ— è„‘ä¸‹ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªMonogoDBå®ä¾‹ï¼Œè¿™é‡Œåˆ›å»ºæ•°æ®åº“ç”¨æˆ·çš„æ—¶å€™å¯†ç è®°ä½ï¼Œåé¢è¦ç”¨</li>
<li>ä¿®æ”¹Network Accessä¸º 0.0.0.0 å…è®¸æ‰€æœ‰IPè®¿é—®</li>
<li>åœ¨connectä¸­æŸ¥çœ‹ä»£ç ç¤ºä¾‹ï¼Œé€‰Node.jså¯ä»¥çœ‹åˆ°è¿æ¥ä¸²ï¼ŒæŠŠæ•°æ®åº“ç”¨æˆ·å¯†ç æ›¿æ¢è¿›å»ï¼ŒæŠŠæ•´ä¸ªURLå¤åˆ¶ä¸‹æ¥ï¼Œç­‰éƒ¨ç½²äº‘å‡½æ•°çš„æ—¶å€™æœ‰ç”¨</li>
</ol>
<h4 id="netlify-éƒ¨ç½²äº‘å‡½æ•°">Netlify éƒ¨ç½²äº‘å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#netlify-éƒ¨ç½²äº‘å‡½æ•°">#</a></h4>
<p><a href="https://www.netlify.com/">Netlify</a></p>
<ol>
<li>æ³¨å†ŒNetlifyè´¦å·ï¼Œæ³¨å†Œçš„æ—¶å€™éœ€è¦æä¾›èº«ä»½éªŒè¯ï¼ˆæœ‰ç‚¹æ¶å¿ƒäººäº†ï¼‰ï¼Œå¯†ç éœ€è¦è®¾ç½®å¾—å¤æ‚ä¸€ç‚¹ï¼Œä¸ç„¶ç›´æ¥ä¸ç»™ç™»å½•ä¹Ÿä¸æç¤ºï¼Œæˆ‘é€šè¿‡å¿˜è®°å¯†ç æ”¹äº†ä¸€ä¸ªå¾ˆå¤æ‚çš„~~ï¼ˆæ—¶éš”ä¸‰å¤©æ¥æ ¡éªŒåšå®¢çš„æ—¶å€™æˆ‘å·²ç»å¿˜è®°äº†ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œæµè§ˆå™¨æ›¿æˆ‘è®°ä½äº†ï¼‰~~</li>
<li>Forkå®˜æ–¹çš„ä»“åˆ°è‡ªå·±çš„Githubï¼Œä»ä»“åº“éƒ¨ç½²ç«™ç‚¹ï¼Œç¯å¢ƒå˜é‡ä¸­å¡«å…¥ <code>MONGODB_URI</code> å€¼ä¸ºMonoDB Atlasä¸­å¤åˆ¶å‡ºæ¥çš„URL</li>
<li>ç‚¹xxx.netlify.appè¿›å…¥é¡µé¢ï¼Œçœ‹åˆ°äº‘å‡½æ•°æ­£å¸¸è¿è¡Œå°±æ˜¯éƒ¨ç½²æˆåŠŸäº†</li>
</ol>
<h4 id="å‰ç«¯éƒ¨ç½²">å‰ç«¯éƒ¨ç½²<a hidden class="anchor" aria-hidden="true" href="#å‰ç«¯éƒ¨ç½²">#</a></h4>
<p>éœ€è¦æŠŠå‰ç«¯JSåµŒå…¥åˆ°Hugoçš„Htmlé¡µé¢ä¸­ï¼Œåœ¨ <code>layout/comments.html</code> æ–‡ä»¶ä¸­æ·»åŠ ä»£ç  ï¼ˆå¦‚æœæœ‰å…¶ä»–è¯„è®ºç»„ä»¶è¯·è‡ªè¡Œåˆ é™¤ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tcomment&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">twikoo</span>.<span style="color:#a6e22e">init</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">envId</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://xxx.netlify.app/.netlify/functions/twikoo&#39;</span>, 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#tcomment&#39;</span>, <span style="color:#75715e">// å®¹å™¨å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>})
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><h4 id="ä½¿ç”¨é…ç½®">ä½¿ç”¨é…ç½®<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨é…ç½®">#</a></h4>
<ol>
<li>è¿›å…¥ç®¡ç†å‘˜ç•Œé¢ï¼Œé¦–æ¬¡è¿›å…¥é…ç½®å¯†ç </li>
<li>é…ç½®é‚®ç®±é€šçŸ¥ï¼ŒHotmailé…ç½®äº†æ— æ³•æµ‹è¯•é€šè¿‡ï¼Œæš‚æ—¶æ²¡æ‰¾åˆ°åŸå› ï¼Œåæ¥é…ç½®äº†ä¸€ä¸ª163çš„é‚®ç®±ï¼ˆéœ€è¦å¡«æˆæƒç ï¼Œå¬è¯´qqæ›´æ–¹ä¾¿ä¸€ç‚¹ï¼Œgmailæ²¡æœ‰å°è¯•ï¼‰</li>
<li>ååƒåœ¾é…ç½®ï¼Œä½¿ç”¨é»˜è®¤çš„ååƒåœ¾æœåŠ¡ <a href="https://akismet.com/">akismet</a>ï¼Œæ”¯ä»˜ä¸€ä¸ª0å…ƒè´¦å•å°±å¯ä»¥è·å¾—ä¸€ä¸ªAPPKeyï¼Œå¡«å…¥é…ç½®é‡Œé¢å°±å¥½</li>
<li>å¤´åƒæœåŠ¡ï¼Œé»˜è®¤çš„ <a href="https://weavatar.com/">weavatar</a>ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œä¸Šä¼ ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å¤´åƒã€‚ä½†æ˜¯è¿™è¾¹é‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥‡æ€ªçš„é—®é¢˜ï¼ŒåŒæ—¶è¾“å…¥æ˜µç§°å’Œé‚®ç®±ï¼Œå¤´åƒå°±ä¼šè¯»å–å¤±è´¥ï¼ˆä½†æ˜¯åæ¥å‘ç°ç”Ÿäº§ä¸Šå¥½åƒå¯ä»¥ï¼‰ï¼Œæ‰€ä»¥æˆ‘åœ¨é€šç”¨è®¾ç½®é‡Œé¢æŠŠå¿…å¡«å­—æ®µæ”¹æˆäº†åªå¡«é‚®ç®±ï¼Œå› ä¸ºæ˜µç§°å¡«QQå·ä¼šè‡ªåŠ¨ç”Ÿæˆqqé‚®ç®±ã€‚</li>
</ol>
<h2 id="ä¾§é¢æ˜¾ç¤ºç›®å½•">ä¾§é¢æ˜¾ç¤ºç›®å½•<a hidden class="anchor" aria-hidden="true" href="#ä¾§é¢æ˜¾ç¤ºç›®å½•">#</a></h2>
<p>å‚è€ƒèµ„æ–™ï¼š <a href="https://www.zhouxin.space/logs/introduce-side-toc-and-reading-percentage-to-papermod/">https://www.zhouxin.space/logs/introduce-side-toc-and-reading-percentage-to-papermod/</a></p>
<ol>
<li>åˆ›å»ºæ–‡ä»¶ <code>layouts/partials/toc.html</code> è¾“å…¥ä»¥ä¸‹ä»£ç ï¼ˆä»£ç å…¨æ˜¯æŠ„çš„ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼‰</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- $headers := findRE &#34;&lt;<span style="color:#f92672">h</span><span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">1-6</span><span style="color:#960050;background-color:#1e0010">].*?</span>&gt;(.|\n])+?<span style="color:#960050;background-color:#1e0010">&lt;</span>/h[1-6]&gt;&#34; .Content -}}
</span></span><span style="display:flex;"><span>{{- $has_headers := ge (len $headers) 1 -}}
</span></span><span style="display:flex;"><span>{{- if $has_headers -}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">aside</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toc-container&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toc-container wide&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toc&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">details</span> <span style="color:#960050;background-color:#1e0010">{{</span><span style="color:#a6e22e">if</span> <span style="color:#960050;background-color:#1e0010">(.</span><span style="color:#a6e22e">Param</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">TocOpen</span><span style="color:#960050;background-color:#1e0010">&#34;)</span> <span style="color:#960050;background-color:#1e0010">}}</span> <span style="color:#a6e22e">open</span><span style="color:#960050;background-color:#1e0010">{{</span> <span style="color:#a6e22e">end</span> <span style="color:#960050;background-color:#1e0010">}}</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">summary</span> <span style="color:#a6e22e">accesskey</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;c&#34;</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(Alt + C)&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;details&#34;</span>&gt;{{- i18n &#34;toc&#34; | default &#34;Table of Contents&#34; }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">summary</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;inner&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                {{- $largest := 6 -}}
</span></span><span style="display:flex;"><span>                {{- range $headers -}}
</span></span><span style="display:flex;"><span>                {{- $headerLevel := index (findRE &#34;[1-6]&#34; . 1) 0 -}}
</span></span><span style="display:flex;"><span>                {{- $headerLevel := len (seq $headerLevel) -}}
</span></span><span style="display:flex;"><span>                {{- if lt $headerLevel $largest -}}
</span></span><span style="display:flex;"><span>                {{- $largest = $headerLevel -}}
</span></span><span style="display:flex;"><span>                {{- end -}}
</span></span><span style="display:flex;"><span>                {{- end -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                {{- $firstHeaderLevel := len (seq (index (findRE &#34;[1-6]&#34; (index $headers 0) 1) 0)) -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                {{- $.Scratch.Set &#34;bareul&#34; slice -}}
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                    {{- range seq (sub $firstHeaderLevel $largest) -}}
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                        {{- $.Scratch.Add &#34;bareul&#34; (sub (add $largest .) 1) -}}
</span></span><span style="display:flex;"><span>                        {{- end -}}
</span></span><span style="display:flex;"><span>                        {{- range $i, $header := $headers -}}
</span></span><span style="display:flex;"><span>                        {{- $headerLevel := index (findRE &#34;[1-6]&#34; . 1) 0 -}}
</span></span><span style="display:flex;"><span>                        {{- $headerLevel := len (seq $headerLevel) -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        {{/* get id=&#34;xyz&#34; */}}
</span></span><span style="display:flex;"><span>                        {{- $id := index (findRE &#34;(id=\&#34;(.*?)\&#34;)&#34; $header 9) 0 }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        {{- /* strip id=&#34;&#34; to leave xyz, no way to get regex capturing groups in hugo */ -}}
</span></span><span style="display:flex;"><span>                        {{- $cleanedID := replace (replace $id &#34;id=\&#34;&#34; &#34;&#34;) &#34;\&#34;&#34; &#34;&#34; }}
</span></span><span style="display:flex;"><span>                        {{- $header := replaceRE &#34;&lt;<span style="color:#f92672">h</span><span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">1-6</span><span style="color:#960050;background-color:#1e0010">].*?</span>&gt;((.|\n])+?)<span style="color:#960050;background-color:#1e0010">&lt;</span>/h[1-6]&gt;&#34; &#34;$1&#34; $header -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        {{- if ne $i 0 -}}
</span></span><span style="display:flex;"><span>                        {{- $prevHeaderLevel := index (findRE &#34;[1-6]&#34; (index $headers (sub $i 1)) 1) 0 -}}
</span></span><span style="display:flex;"><span>                        {{- $prevHeaderLevel := len (seq $prevHeaderLevel) -}}
</span></span><span style="display:flex;"><span>                        {{- if gt $headerLevel $prevHeaderLevel -}}
</span></span><span style="display:flex;"><span>                        {{- range seq $prevHeaderLevel (sub $headerLevel 1) -}}
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                            {{/* the first should not be recorded */}}
</span></span><span style="display:flex;"><span>                            {{- if ne $prevHeaderLevel . -}}
</span></span><span style="display:flex;"><span>                            {{- $.Scratch.Add &#34;bareul&#34; . -}}
</span></span><span style="display:flex;"><span>                            {{- end -}}
</span></span><span style="display:flex;"><span>                            {{- end -}}
</span></span><span style="display:flex;"><span>                            {{- else -}}
</span></span><span style="display:flex;"><span>                            &lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                            {{- if lt $headerLevel $prevHeaderLevel -}}
</span></span><span style="display:flex;"><span>                            {{- range seq (sub $prevHeaderLevel 1) -1 $headerLevel -}}
</span></span><span style="display:flex;"><span>                            {{- if in ($.Scratch.Get &#34;bareul&#34;) . -}}
</span></span><span style="display:flex;"><span>                        &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                        {{/* manually do pop item */}}
</span></span><span style="display:flex;"><span>                        {{- $tmp := $.Scratch.Get &#34;bareul&#34; -}}
</span></span><span style="display:flex;"><span>                        {{- $.Scratch.Delete &#34;bareul&#34; -}}
</span></span><span style="display:flex;"><span>                        {{- $.Scratch.Set &#34;bareul&#34; slice}}
</span></span><span style="display:flex;"><span>                        {{- range seq (sub (len $tmp) 1) -}}
</span></span><span style="display:flex;"><span>                        {{- $.Scratch.Add &#34;bareul&#34; (index $tmp (sub . 1)) -}}
</span></span><span style="display:flex;"><span>                        {{- end -}}
</span></span><span style="display:flex;"><span>                        {{- else -}}
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                    {{- end -}}
</span></span><span style="display:flex;"><span>                    {{- end -}}
</span></span><span style="display:flex;"><span>                    {{- end -}}
</span></span><span style="display:flex;"><span>                    {{- end }}
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#{{- $cleanedID -}}&#34;</span> <span style="color:#a6e22e">aria-label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{- $header | plainify -}}&#34;</span>&gt;{{- $header | safeHTML -}}&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>                        {{- else }}
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#{{- $cleanedID -}}&#34;</span> <span style="color:#a6e22e">aria-label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{- $header | plainify -}}&#34;</span>&gt;{{- $header | safeHTML -}}&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>                        {{- end -}}
</span></span><span style="display:flex;"><span>                        {{- end -}}
</span></span><span style="display:flex;"><span>                        <span style="color:#75715e">&lt;!-- {{- $firstHeaderLevel := len (seq (index (findRE &#34;[1-6]&#34; (index $headers 0) 1) 0)) -}} --&gt;</span>
</span></span><span style="display:flex;"><span>                        {{- $firstHeaderLevel := $largest }}
</span></span><span style="display:flex;"><span>                        {{- $lastHeaderLevel := len (seq (index (findRE &#34;[1-6]&#34; (index $headers (sub (len $headers) 1)) 1) 0)) }}
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                    {{- range seq (sub $lastHeaderLevel $firstHeaderLevel) -}}
</span></span><span style="display:flex;"><span>                    {{- if in ($.Scratch.Get &#34;bareul&#34;) (add . $firstHeaderLevel) }}
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                {{- else }}
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                {{- end -}}
</span></span><span style="display:flex;"><span>                {{- end }}
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">details</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">aside</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">activeElement</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">elements</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;DOMContentLoaded&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">checkTocPosition</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">elements</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#39;h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">elements</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Make the first header active
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">elements</span>[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> encodeURI(<span style="color:#a6e22e">activeElement</span>.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#39;id&#39;</span>)).<span style="color:#a6e22e">toLowerCase</span>();
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">`.inner ul li a[href=&#34;#</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;]`</span>).<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;active&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Add event listener for the &#34;back to top&#34; link
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">topLink</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;top-link&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">topLink</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">topLink</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, (<span style="color:#a6e22e">event</span>) =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Prevent the default action
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Smooth scroll to the top
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                window.<span style="color:#a6e22e">scrollTo</span>({ <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">behavior</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;smooth&#39;</span> });
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;resize&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">event</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">checkTocPosition</span>();
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;scroll&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Get the current scroll position
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">scrollPosition</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">pageYOffset</span> <span style="color:#f92672">||</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">scrollTop</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Check if the scroll position is at the top of the page
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">scrollPosition</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Ensure elements is a valid NodeList
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">elements</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">elements</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Check if there is an object in the top half of the screen or keep the last item active
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">from</span>(<span style="color:#a6e22e">elements</span>).<span style="color:#a6e22e">find</span>((<span style="color:#a6e22e">element</span>) =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> ((<span style="color:#a6e22e">getOffsetTop</span>(<span style="color:#a6e22e">element</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">scrollPosition</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> 
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">getOffsetTop</span>(<span style="color:#a6e22e">element</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">scrollPosition</span>) <span style="color:#f92672">&lt;</span> window.<span style="color:#a6e22e">innerHeight</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">element</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }) <span style="color:#f92672">||</span> <span style="color:#a6e22e">activeElement</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">elements</span>.<span style="color:#a6e22e">forEach</span>(<span style="color:#a6e22e">element</span> =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> encodeURI(<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#39;id&#39;</span>)).<span style="color:#a6e22e">toLowerCase</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tocLink</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">`.inner ul li a[href=&#34;#</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;]`</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">element</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">activeElement</span>){
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">tocLink</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;active&#39;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// Ensure the active element is in view within the .inner container
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tocContainer</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.toc .inner&#39;</span>);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">linkOffsetTop</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tocLink</span>.<span style="color:#a6e22e">offsetTop</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">containerHeight</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tocContainer</span>.<span style="color:#a6e22e">clientHeight</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">linkHeight</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tocLink</span>.<span style="color:#a6e22e">clientHeight</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// Calculate the scroll position to center the active link
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">scrollPosition</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">linkOffsetTop</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">containerHeight</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> (<span style="color:#a6e22e">linkHeight</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">tocContainer</span>.<span style="color:#a6e22e">scrollTo</span>({ <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">scrollPosition</span>, <span style="color:#a6e22e">behavior</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;smooth&#39;</span> });
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">tocLink</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#39;active&#39;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">main</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">getComputedStyle</span>(document.<span style="color:#a6e22e">body</span>).<span style="color:#a6e22e">getPropertyValue</span>(<span style="color:#e6db74">&#39;--article-width&#39;</span>), <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">toc</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">getComputedStyle</span>(document.<span style="color:#a6e22e">body</span>).<span style="color:#a6e22e">getPropertyValue</span>(<span style="color:#e6db74">&#39;--toc-width&#39;</span>), <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">gap</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">getComputedStyle</span>(document.<span style="color:#a6e22e">body</span>).<span style="color:#a6e22e">getPropertyValue</span>(<span style="color:#e6db74">&#39;--gap&#39;</span>), <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkTocPosition</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">scrollWidth</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">width</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">main</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">toc</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">-</span> (<span style="color:#a6e22e">gap</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;toc-container&#34;</span>).<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;wide&#34;</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;toc-container&#34;</span>).<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#34;wide&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getOffsetTop</span>(<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">getClientRects</span>().<span style="color:#a6e22e">length</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rect</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">getBoundingClientRect</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">win</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">ownerDocument</span>.<span style="color:#a6e22e">defaultView</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">rect</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">win</span>.<span style="color:#a6e22e">pageYOffset</span>;   
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></div><ol start="2">
<li>åˆ›å»º <code>assets/css/extended/toc.css</code> æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼ˆä¹Ÿæ˜¯æŠ„çš„ï¼Œæ„Ÿè°¢å¤§ä½¬ï¼Œèµç¾å¤§ä½¬ï¼‰</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>:<span style="color:#a6e22e">root</span> {
</span></span><span style="display:flex;"><span>    --nav-width: <span style="color:#ae81ff">1380</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    --article-width: <span style="color:#ae81ff">650</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    --toc-width: <span style="color:#ae81ff">300</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>border);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>entry);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>radius);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>.<span style="color:#a6e22e">wide</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-right</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>border);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">left</span>: calc((<span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>toc<span style="color:#f92672">-</span>width) <span style="color:#f92672">+</span> <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>gap)) <span style="color:#f92672">*</span> <span style="color:#ae81ff">-1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">top</span>: calc(<span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>gap) <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>toc<span style="color:#f92672">-</span>width);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">wide</span> .<span style="color:#a6e22e">toc</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">sticky</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">top</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>gap);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">unset</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">unset</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#66d9ef">unset</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">details</span> <span style="color:#f92672">summary</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">cursor</span>: <span style="color:#66d9ef">zoom-in</span>;
</span></span><span style="display:flex;"><span>    margin-inline-start: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">details</span><span style="color:#f92672">[</span><span style="color:#f92672">open</span><span style="color:#f92672">]</span> <span style="color:#f92672">summary</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">500</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>.<span style="color:#a6e22e">wide</span> .<span style="color:#a6e22e">toc</span> .<span style="color:#a6e22e">inner</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">active</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">110</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">600</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">circle</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> .<span style="color:#a6e22e">inner</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*ç›®å½•æ˜¾ç¤ºé«˜åº¦*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">max-height</span>: <span style="color:#ae81ff">83</span><span style="color:#66d9ef">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow-y</span>: <span style="color:#66d9ef">auto</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> .<span style="color:#a6e22e">inner</span>::<span style="color:#a6e22e">-webkit-scrollbar-thumb</span> {  <span style="color:#75715e">/*æ»šåŠ¨æ¡*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>border);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">7</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>theme);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>radius);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">li</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>    margin-inline-start: calc(<span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>gap) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">0.95</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding-bottom</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc</span> <span style="color:#f92672">li</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>secondary);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="3">
<li>åŒæ—¶åœ¨<code>archetypes\default.yml</code>ä¸­æ·»åŠ å‚æ•°</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">showToc</span>: <span style="color:#66d9ef">true</span> <span style="color:#75715e"># æ˜¾ç¤ºç›®å½•</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">TocOpen</span>: <span style="color:#66d9ef">true</span> <span style="color:#75715e"># æ‰“å¼€ç›®å½•</span>
</span></span></code></pre></div><h2 id="pvuv">PV/UV<a hidden class="anchor" aria-hidden="true" href="#pvuv">#</a></h2>
<h3 id="ä¸è’œå­busuanzi">ä¸è’œå­Busuanzi<a hidden class="anchor" aria-hidden="true" href="#ä¸è’œå­busuanzi">#</a></h3>
<p>ä½¿ç”¨ä¸è’œå­Busuanziè¿›è¡Œç«™ç‚¹è®¿é—®ç»Ÿè®¡ã€‚
å‚è€ƒé“¾æ¥ï¼š <a href="https://blog.kanikig.xyz/hugo-busuanzi/">https://blog.kanikig.xyz/hugo-busuanzi/</a></p>
<ol>
<li>æ·»åŠ æ–‡ä»¶ <code>layouts\parials\head.html</code> ä»ä¸»é¢˜æ–‡ä»¶å¤¹ <code>themes\layouts\parials\head.html</code> ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨Stylesä¸Šæ–¹æ·»åŠ ä¸€ä¸ªifå—</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{{- if site.Params.analytics.naver.SiteVerificationTag }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;naver-site-verification&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ site.Params.analytics.naver.SiteVerificationTag }}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- ä»¥ä¸‹Ifå—ä¸ºæ–°å¢å†…å®¹ --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if .Site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;referrer&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;no-referrer-when-downgrade&#34;</span>&gt;
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- /* Styles */}}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ol start="2">
<li>æ·»åŠ æ–‡ä»¶ <code>layouts\parials\footer.html</code> ä»ä¸»é¢˜æ–‡ä»¶å¤¹ <code>themes\layouts\parials\footer.html</code> ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨footeræ ‡ç­¾å†…æ·»åŠ ä¸€ä¸ªifå—</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{{- if not (.Param &#34;hideFooter&#34;) }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">footer</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{- if not site.Params.footer.hideCopyright }}
</span></span><span style="display:flex;"><span>    {{- if site.Copyright }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span>&gt;{{ site.Copyright | markdownify }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>    {{- else }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span>&gt;&amp;copy; {{ now.Year }} &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ &#34;</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">absLangURL</span> <span style="color:#960050;background-color:#1e0010">}}&#34;</span>&gt;{{ site.Title }}&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>    {{- print &#34; Â· &#34;}}
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    {{- with site.Params.footer.text }}
</span></span><span style="display:flex;"><span>    {{ . | markdownify }}
</span></span><span style="display:flex;"><span>    {{- print &#34; Â· &#34;}}
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!-- ä»¥ä¸‹IFå—ä¸ºæ–°å¢å†…å®¹ --&gt;</span>
</span></span><span style="display:flex;"><span>    {{ if .Site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi-footer&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_pv&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            æœ¬ç«™æ€»è®¿é—®é‡&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;æ¬¡
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_uv&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            æœ¬ç«™è®¿å®¢æ•°&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_uv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;äººæ¬¡
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    {{- end -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>        Powered by
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://gohugo.io/&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;noopener noreferrer&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;Hugo&lt;/<span style="color:#f92672">a</span>&gt; <span style="color:#960050;background-color:#1e0010">&amp;</span>
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://github.com/adityatelange/hugo-PaperMod/&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;noopener&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;PaperMod&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">footer</span>&gt;
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></div><ol start="3">
<li>æ·»åŠ æ–‡ä»¶ <code>layouts\_defaults\single.html</code> ä»ä¸»é¢˜æ–‡ä»¶å¤¹ <code>themes\layouts\_defaults\single.html</code> ä¸­æ‹·è´å†…å®¹å¹¶ä¿®æ”¹ï¼Œåœ¨post-metaå†…æ·»åŠ ä¸€ä¸ªifå—</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-meta&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      {{- partial &#34;post_meta.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;translation_list.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;edit_post.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;post_canonical.html&#34; . -}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">&lt;!-- ä»¥ä¸‹Ifå—ä¸ºæ–°å¢å†…å®¹ --&gt;</span>
</span></span><span style="display:flex;"><span>      {{ if .Site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;meta-item&#34;</span>&gt;<span style="color:#960050;background-color:#1e0010">&amp;</span>nbspÂ·<span style="color:#960050;background-color:#1e0010">&amp;</span>nbsp
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_page_pv&#34;</span>&gt;æœ¬æ–‡é˜…è¯»é‡&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_page_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;æ¬¡&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      {{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ol start="4">
<li>åœ¨<code>hugo.html</code>æ–‡ä»¶ä¸­çš„paramèŠ‚ç‚¹ä¸­æ·»åŠ å¼€å…³</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">params</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">busuanzi</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">enable</span>: <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><h3 id="google-analyze">Google Analyze<a hidden class="anchor" aria-hidden="true" href="#google-analyze">#</a></h3>
<p>åªéœ€è¦åœ¨ <code>hugo.yaml</code> ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ï¼Œidæ›´æ¢ä¸ºè‡ªå·±åœ¨Google Analyticä¸­ç”³è¯·çš„è·Ÿè¸ªID</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">googleAnalytics</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">id</span>: <span style="color:#e6db74">&#34;G-XXXXXXXXXX&#34;</span>
</span></span></code></pre></div><h2 id="æ—¶é—´çº¿">æ—¶é—´çº¿<a hidden class="anchor" aria-hidden="true" href="#æ—¶é—´çº¿">#</a></h2>
<p>æ·»åŠ ä¸€ä¸ªæ ¹æ®æ—¶é—´çº¿æ’åˆ—çš„å½’æ¡£é¡µé¢ï¼Œå†™çš„å¤šå†™çš„ä¹…æ‰æœ‰è´¨æ„Ÿã€‚å¤šå†™å†™å§ï¼</p>
<ol>
<li>æ·»åŠ  <code>content\archive.md</code> æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;&#34;
</span></span><span style="display:flex;"><span>layout: &#34;archives&#34;
</span></span><span style="display:flex;"><span>url: &#34;/archives/&#34;
</span></span><span style="display:flex;"><span>summary: archives
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div><ol start="2">
<li>åœ¨ <code>hugo.html</code> ä¸­æ·»åŠ æŒ‰é’®ï¼Œåœ¨ <code>menu.main</code> èŠ‚ç‚¹ä¸‹æ–°å¢ä»¥ä¸‹å†…å®¹</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>    - <span style="color:#f92672">identifier</span>: <span style="color:#ae81ff">archive</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">æ—¶é—´è½´</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">url</span>: <span style="color:#ae81ff">/archives/</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">11</span>
</span></span></code></pre></div><h2 id="ç•™è¨€æ¿">ç•™è¨€æ¿<a hidden class="anchor" aria-hidden="true" href="#ç•™è¨€æ¿">#</a></h2>
<p>åˆ©ç”¨è¯„è®ºç³»ç»Ÿï¼Œæ–°å¢ä¸€ä¸ªLayoutæ¥æ„å»ºä¸€ä¸ªç•™è¨€æ¿é¡µé¢ã€‚</p>
<ol>
<li>åˆ›å»º <code>layouts\message.html</code> æ–‡ä»¶è¾“å…¥ä¸€ä¸‹ä»£ç ï¼ˆä»£ç ä» <code>single.html</code> ä¸­åˆ é™¤äº†å¾ˆå¤šä¸œè¥¿ï¼Œç®€åŒ–å¾—åˆ°ï¼Œé¡ºä¾¿åšäº†ä¸€ä¸‹æ ‡é¢˜å±…ä¸­ï¼Œè¿™å›æ˜¯è‡ªå·±å†™çš„äº†ï¼‰ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- define &#34;main&#34; }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">article</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-single&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">header</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-header&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-title entry-hint-parent&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin-left: auto;margin-right: auto;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        {{ .Title }}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">header</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  {{- if .Content }}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-content&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{ .Content }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  {{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">footer</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-footer&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tcomment&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">twikoo</span>.<span style="color:#a6e22e">init</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">envId</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxx&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#tcomment&#39;</span>,
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">footer</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">article</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></div><ol start="2">
<li>åœ¨å‘½ä»¤è¡Œä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„mdæ–‡ä»¶(ä¸è¦ç›´æ¥æ–°å»ºæ–‡ä»¶ï¼Œæˆ‘è¯•äº†ï¼Œç¼–è¯‘çš„æ—¶å€™ä¸ä¼šç”Ÿæˆæ–‡ä»¶ï¼Œä¼šå¯¼è‡´404)ï¼Œè¾“å…¥ <code>hugo new message.md</code>ï¼Œå¹¶åœ¨å…¶ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç </li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;ğŸ’¬ ç•™è¨€æ¿&#34;
</span></span><span style="display:flex;"><span>date: &#39;2024-12-13T21:14:22+08:00&#39;
</span></span><span style="display:flex;"><span>draft: false # é»˜è®¤ä¸ºè‰ç¨¿æ¨¡å¼
</span></span><span style="display:flex;"><span>layout: &#34;message&#34;
</span></span><span style="display:flex;"><span>comments: true # è¯„è®º
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div><ol start="3">
<li>åœ¨ <code>hugo.yaml</code> ä¸­æ–°å¢é¦–é¡µç›®å½•ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç </li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>    - <span style="color:#f92672">identifier</span>: <span style="color:#ae81ff">message</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">ğŸ’¬ ç•™è¨€æ¿</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">url</span>: <span style="color:#ae81ff">/message/</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">21</span>
</span></span></code></pre></div><h2 id="æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´">æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´<a hidden class="anchor" aria-hidden="true" href="#æ·»åŠ æœ€è¿‘ä¿®æ”¹æ—¶é—´">#</a></h2>
<p>å¤åˆ¶ä¸»é¢˜ä¸­çš„ <code>post_meta.html</code> åˆ° <code>layout/post_meta.html</code> æ–°å¢æœ€è¿‘ä¿®æ”¹æ—¶é—´çš„å†…å®¹ï¼Œå¹¶ä¿®æ”¹å‘å¸ƒæ—¶é—´çš„å†…å®¹å’Œå›½é™…åŒ–ï¼Œ</p>
<ol>
<li>åœ¨ <code>layout/post_meta.html</code> è¾“å…¥ä»¥ä¸‹ä»£ç </li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- $scratch := newScratch }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if not .Date.IsZero -}}
</span></span><span style="display:flex;"><span>  {{- $dateStr := .Date.Format (default &#34;January 2, 2006&#34; site.Params.DateFormat) -}}
</span></span><span style="display:flex;"><span>  {{- $translatedPublished := i18n &#34;published&#34; -}}
</span></span><span style="display:flex;"><span>  {{- $dateHTML := printf &#34;&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%s&#39;</span>&gt;%s&lt;/<span style="color:#f92672">span</span>&gt;&#34; (.Date) $dateStr -}}
</span></span><span style="display:flex;"><span>  {{- $scratch.Add &#34;meta&#34; (slice (printf &#34;%s %s&#34; $translatedPublished $dateHTML)) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if not .Lastmod.IsZero -}}
</span></span><span style="display:flex;"><span>  {{- $lastmodStr := .Lastmod.Format (default &#34;January 2, 2006&#34; site.Params.DateFormat) -}}
</span></span><span style="display:flex;"><span>  {{- $translatedLastModified := i18n &#34;last_modified&#34; -}}
</span></span><span style="display:flex;"><span>  {{- $lastmodHTML := printf &#34;&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%s&#39;</span>&gt;%s&lt;/<span style="color:#f92672">span</span>&gt;&#34; (.Lastmod) $lastmodStr -}}
</span></span><span style="display:flex;"><span>  {{- $scratch.Add &#34;meta&#34; (slice (printf &#34;%s %s&#34; $translatedLastModified $lastmodHTML)) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if (.Param &#34;ShowReadingTime&#34;) -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (i18n &#34;read_time&#34; .ReadingTime | default (printf &#34;%d min&#34; .ReadingTime))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if (.Param &#34;ShowWordCount&#34;) -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (i18n &#34;words&#34; .WordCount | default (printf &#34;%d words&#34; .WordCount))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if not (.Param &#34;hideAuthor&#34;) -}}
</span></span><span style="display:flex;"><span>{{- with (partial &#34;author.html&#34; .) }}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice .) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- with ($scratch.Get &#34;meta&#34;) }}
</span></span><span style="display:flex;"><span>{{- delimit . &#34;&amp;nbsp;Â·&amp;nbsp;&#34; | safeHTML -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><ol start="2">
<li>åœ¨i18næ–‡ä»¶å¤¹çš„å¯¹åº”ç›®å½•æ·»åŠ ç¿»è¯‘</li>
<li>åœ¨ <code>hugo.yaml</code> ä¸­æ–°å¢é…ç½® <code>frontmatte.lastmod: ['lastmod', ':git', 'date', 'publishDate']</code> ç”¨äºæŒ‡å®šlastmodå˜é‡çš„èµ‹å€¼é¡ºåº</li>
</ol>
<h2 id="è‡ªå®šä¹‰åŸŸå">è‡ªå®šä¹‰åŸŸå<a hidden class="anchor" aria-hidden="true" href="#è‡ªå®šä¹‰åŸŸå">#</a></h2>
<p>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªåŸŸåï¼Œåœ¨å¯¹åº”çš„åŸŸåæœåŠ¡å•†æ·»åŠ ä¸€æ¡è§£æè®°å½•ï¼Œè§£æç±»å‹ï¼šCNAMEï¼Œè§£æå€¼ä¸º xxx.github.io (xxxæ›¿æ¢ä¸ºè‡ªå·±çš„Githubç”¨æˆ·å)</p>
<p>å†æ·»åŠ æ–‡ä»¶ <code>static\CNAME</code> ,æ–‡ä»¶çš„å†…å®¹ä¸ºè‡ªå®šä¹‰çš„åŸŸåã€‚æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œè®¿é—®åŸŸåä¼šå‡ºç°404ã€‚</p>
<h1 id="ç•Œé¢æ˜¾ç¤ºä¼˜åŒ–">ç•Œé¢æ˜¾ç¤ºä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#ç•Œé¢æ˜¾ç¤ºä¼˜åŒ–">#</a></h1>
<h2 id="é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡">é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡<a hidden class="anchor" aria-hidden="true" href="#é…ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡">#</a></h2>
<p>åœ¨ <code>hugo.html</code> æ–‡ä»¶ä¸­æ·»åŠ é…ç½® <code>defaultContentLanguage: zh</code> å¯ä»¥æ±‰åŒ–å¤§éƒ¨åˆ†ä¸»é¢˜çš„å†…å®¹</p>
<h2 id="æ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ–">æ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#æ—¥æœŸæ ¼å¼æ˜¾ç¤ºä¼˜åŒ–">#</a></h2>
<p>åœ¨ <code>hugo.html</code> æ–‡ä»¶ä¸­çš„ParamèŠ‚ç‚¹ä¸‹æ·»åŠ é…ç½® <code>DateFormat: &quot;2006-01-02&quot;</code> (goçš„æ—¶é—´é…ç½®å¿…é¡»è¦ç”¨è¿™ä¸ªæ—¥æœŸï¼Œyyyy-MM-ddä¸è¡Œ)</p>
<h2 id="æ ‡ç­¾é¡µæ·»åŠ è¯äº‘">æ ‡ç­¾é¡µæ·»åŠ è¯äº‘<a hidden class="anchor" aria-hidden="true" href="#æ ‡ç­¾é¡µæ·»åŠ è¯äº‘">#</a></h2>
<p>å‚è€ƒèµ„æ–™ï¼š <a href="https://blog.xlap.top/post/tech/wordcloud4hugo/#%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80">https://blog.xlap.top/post/tech/wordcloud4hugo/#%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80</a>
æ„Ÿè°¢å¼€æºä½œè€…å’Œå¤§ä½¬ä»£ç ï¼Œæˆ‘ç›´æ¥æŠ„äº†</p>
<ol>
<li>ä¸‹è½½ <code>wordcloud2.js</code> æ‹·è´åˆ° <code>static/js/</code> ç›®å½•ä¸‹ï¼Œ<a href="https://github.com/timdream/wordcloud2.js/blob/v1.1.1/src/wordcloud2.js">ä¸‹è½½åœ°å€ </a></li>
<li>ä¿®æ”¹ <code>head.html</code> å¼•å…¥jsæ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹ä»£ç ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- if eq .Section &#34;tags&#34;}}
</span></span><span style="display:flex;"><span>{{/* æ ‡ç­¾äº‘ */}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/css/word-cloud.css&#34;</span><span style="color:#960050;background-color:#1e0010">\</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/js/wordcloud2.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></div><ol start="3">
<li>åˆ›å»º <code>staic/css/word-cloud.css</code> æ–‡ä»¶è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">1</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">202</span>, <span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">255</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">2</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">83</span>, <span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">255</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">3</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">143</span>, <span style="color:#ae81ff">253</span>, <span style="color:#ae81ff">241</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">4</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">183</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">112</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">5</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">212</span>, <span style="color:#ae81ff">126</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">6</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">140</span>, <span style="color:#ae81ff">131</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-color</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">7</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: rgb(<span style="color:#ae81ff">104</span>, <span style="color:#ae81ff">160</span>, <span style="color:#ae81ff">255</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  @<span style="color:#66d9ef">keyframes</span> <span style="color:#f92672">word</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">0</span><span style="color:#f92672">%</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.5</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">3</span><span style="color:#f92672">%</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">9</span><span style="color:#f92672">%</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">12</span><span style="color:#f92672">%</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.5</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">100</span><span style="color:#f92672">%</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.5</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-name</span>: word;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-duration</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-iteration-count</span>: <span style="color:#66d9ef">infinite</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">will-change</span>: <span style="color:#66d9ef">opacity</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.5</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">1</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">2</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">3</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">4</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">9</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">5</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">12</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">6</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">word-animate</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">7n</span> <span style="color:#f92672">+</span> <span style="color:#f92672">7</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">animation-delay</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><ol start="4">
<li>åˆ›å»º <code>layouts/_default/terms.html</code> è¾“å…¥ä»¥ä¸‹ä»£ç </li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- define &#34;main&#34; }}
</span></span><span style="display:flex;"><span>{{- if .Title }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">header</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;page-header&#34;</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">h1</span>&gt;{{ .Title }}&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  {{- if .Description }}
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-description&#34;</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  {{ .Description }}
</span></span><span style="display:flex;"><span>Â  Â  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  {{- end }}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">header</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;terms-tags&#34;</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sourrounding_div&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width:100%;height:100%;min-height: 500px;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tag-canvas&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/js/wordcloud2.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  {{- range $key, $value := .Data.Terms.Alphabetical }}
</span></span><span style="display:flex;"><span>Â  Â  {{ if eq &#34;&#34; ($.Scratch.Get &#34;tagsMap&#34;) }}
</span></span><span style="display:flex;"><span>Â  Â  {{ $.Scratch.Set &#34;tagsMap&#34; (slice (dict .Name .Count)) }}
</span></span><span style="display:flex;"><span>Â  Â  {{ else }}
</span></span><span style="display:flex;"><span>Â  Â  {{ $.Scratch.Add &#34;tagsMap&#34; (slice (dict .Name .Count)) }}
</span></span><span style="display:flex;"><span>Â  Â  {{ end }}
</span></span><span style="display:flex;"><span>Â  Â  {{- end }}
</span></span><span style="display:flex;"><span>Â  Â  {{ $result := ($.Scratch.Get &#34;tagsMap&#34;)}}
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tag-temp&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;display:none&#34;</span>&gt;{{$result | jsonify }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Â  Â  &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#75715e">//å› ä¸ºå‰æœŸæ¯ä¸ªæ ‡ç­¾å€¼æ¯”è¾ƒå°ï¼Œå¸®Xä¸€ä¸ªç³»æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">XISHU</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#75715e">//ä¸ºäº†åŠ¨æ€å®½åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">div</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#sourrounding_div&#34;</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#tag-canvas&#34;</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">offsetWidth</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">height</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">offsetHeight</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">wordFreqData</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;#tag-temp&#34;</span>).<span style="color:#a6e22e">innerHTML</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">jsonObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">wordFreqData</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#a6e22e">jsonObj</span>.<span style="color:#a6e22e">forEach</span>(<span style="color:#a6e22e">element</span> =&gt; {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">element</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">itemArr</span> <span style="color:#f92672">=</span> [<span style="color:#a6e22e">key</span>[<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">element</span>[<span style="color:#a6e22e">key</span>] <span style="color:#f92672">*</span> <span style="color:#a6e22e">XISHU</span>];
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">itemArr</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#75715e">//è·å–å½“å‰æ˜¯æš—è‰²è¿˜æ˜¯æµ…è‰²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">isDark</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">className</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#a6e22e">WordCloud</span>(<span style="color:#a6e22e">canvas</span>, {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;list&#34;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">arr</span>,<span style="color:#75715e">//æˆ–è€…[[&#39;å„ä½è§‚ä¼—&#39;,45],[&#39;è¯äº‘&#39;, 21],[&#39;æ¥å•¦!!!&#39;,13]],åªè¦æ ¼å¼æ»¡è¶³è¿™æ ·éƒ½å¯ä»¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;shape&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;cardioid&#34;</span>, <span style="color:#75715e">//å½¢çŠ¶ circle (default), cardioid (å¿ƒå‹), diamond, square, triangle-forward, triangle, pentagon, and star.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;gridSize&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#75715e">// å¯†é›†ç¨‹åº¦ æ•°å­—è¶Šå°è¶Šå¯†é›†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;weightFactor&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#75715e">// å­—ä½“å¤§å°=åŸå§‹å¤§å°*weightFactor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;fontWeight&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;normal&#39;</span>, <span style="color:#75715e">//å­—ä½“ç²—ç»†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;fontFamily&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Times, serif&#39;</span>, <span style="color:#75715e">// å­—ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;color&#34;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">isDark</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;random-light&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;random-dark&#39;</span>, <span style="color:#75715e">// å­—ä½“é¢œè‰² &#39;random-dark&#39; æˆ–è€… &#39;random-light&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;backgroundColor&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;none&#39;</span>, <span style="color:#75715e">// èƒŒæ™¯é¢œè‰²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#e6db74">&#34;classes&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tag-cloud-item word-color&#34;</span>, <span style="color:#75715e">//ç”¨äºç‚¹å‡»äº‹ä»¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  });
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;wordcloudstop&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#75715e">//åŠ¨ç”»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  <span style="color:#a6e22e">setTimeout</span>(() =&gt; {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">els</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.word-color&#34;</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  Array.<span style="color:#a6e22e">from</span>(<span style="color:#a6e22e">els</span>).<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">el</span>) =&gt; {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;åŠ¨ç”»&#39;</span>, <span style="color:#a6e22e">el</span>)
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;word-animate&#34;</span>)
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  })
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  }, <span style="color:#ae81ff">2000</span>);
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  <span style="color:#75715e">//ç‚¹å‡»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Â  Â  Â  Â  Â  Â  document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#39;.tag-cloud-item&#39;</span>).<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`&lt;a href=&#34;/tags/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">text</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; style=&#34;color: inherit;&#34;&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">text</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/a&gt;`</span>;
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  Â  Â  });
</span></span><span style="display:flex;"><span>Â  Â  Â  Â  });
</span></span><span style="display:flex;"><span>Â  Â  &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>{{- end }}{{/* end main */ -}}
</span></span></code></pre></div><p>å‚æ•°å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼Œå¯ä»¥å…³æ³¨ <code>shape</code> å’Œ <code>gridSize</code> ç­‰å±æ€§</p>
<h2 id="urlç®¡ç†">urlç®¡ç†<a hidden class="anchor" aria-hidden="true" href="#urlç®¡ç†">#</a></h2>
<p>åœ¨ <code>hugo.yaml</code> ä¸­æ·»åŠ   <code>permalinks.posts: &quot;/:year/:month/:day/:slug/&quot;</code>
åœ¨ <code>archetypes/default.md</code> ä¸­æ·»åŠ  <code>slug: </code>
åœ¨æ¯ä¸€ç¯‡åšæ–‡ä¸­ï¼Œè‡ªå·±ç®¡ç†slug</p>
<h2 id="ä¸ºæ–‡ç« æ·»åŠ è¿‡æœŸæç¤º">ä¸ºæ–‡ç« æ·»åŠ è¿‡æœŸæç¤º<a hidden class="anchor" aria-hidden="true" href="#ä¸ºæ–‡ç« æ·»åŠ è¿‡æœŸæç¤º">#</a></h2>
<ol>
<li>ä¿®æ”¹ <code>single.html</code> æ–‡ä»¶ä¸­ï¼Œåœ¨post-metaåé¢æ–°å¢ä¸€ä¸ªdivå—æ¥å±•ç¤ºè¯¥ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>    {{- if not (.Param &#34;hideMeta&#34;) }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-meta&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      {{- partial &#34;post_meta.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;translation_list.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;edit_post.html&#34; . -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;post_canonical.html&#34; . -}}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!-- æ·»åŠ æç¤ºæ¡†é€»è¾‘ --&gt;</span>
</span></span><span style="display:flex;"><span>    {{- $lastmod := .Lastmod }}
</span></span><span style="display:flex;"><span>    {{- $now := now }}
</span></span><span style="display:flex;"><span>    {{- $duration := $now.Sub $lastmod }}
</span></span><span style="display:flex;"><span>    {{- $daysAgo := $duration.Hours }}
</span></span><span style="display:flex;"><span>    {{- if ge $daysAgo (math.Mul 180 24) }}
</span></span><span style="display:flex;"><span>    {{- if eq site.Params.defaultTheme `dark` -}}
</span></span><span style="display:flex;"><span>    {{- $isDark := &#34;.dark&#34; }}
</span></span><span style="display:flex;"><span>    {{- end -}}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-age-hint&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      è¿™ç¯‡æ–‡ç« æœ€åæ›´æ–°å·²ç»è¶…è¿‡180å¤©äº†ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><ol start="2">
<li>ä¸ºè¯¥divå—å®šåˆ¶æ ·å¼ï¼Œåœ¨ <code>assets/css/extended</code> ç›®å½•ä¸‹æ–°å¢ <code>custom.css</code> æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œé¢œè‰²å¯ä»¥éšè‡ªå·±å–œæ¬¢è°ƒæ•´</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>:<span style="color:#a6e22e">root</span> {
</span></span><span style="display:flex;"><span>    --post-age-hint-bg-color: <span style="color:#ae81ff">#d4d4d4</span>ac;
</span></span><span style="display:flex;"><span>    --post-age-hint-color: <span style="color:#ae81ff">#26b3fe</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">dark</span> {
</span></span><span style="display:flex;"><span>    --post-age-hint-bg-color: <span style="color:#ae81ff">#6d6c6c</span>ac;
</span></span><span style="display:flex;"><span>    --post-age-hint-color: <span style="color:#ae81ff">#ff7723</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-age-hint</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background-color</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>post<span style="color:#f92672">-</span>age<span style="color:#f92672">-</span>hint<span style="color:#f92672">-</span>bg<span style="color:#f92672">-</span><span style="color:#66d9ef">color</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* æ·±ç°è‰²èƒŒæ™¯ */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>post<span style="color:#f92672">-</span>age<span style="color:#f92672">-</span>hint<span style="color:#f92672">-</span><span style="color:#66d9ef">color</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* æµ…ç°è‰²æ–‡å­— */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-left</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#ff6666</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* çº¢è‰²è¾¹æ¡†ï¼Œé†’ç›®ä½†ä¸åˆºçœ¼ */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* åœ†è§’è¾¹æ¡† */</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* æ·»åŠ ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœï¼Œé¼ æ ‡æ‚¬åœæ—¶æ”¹å˜è¾¹æ¡†é¢œè‰² */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-age-hint</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-color</span>: <span style="color:#ae81ff">#ff9999</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™æ®µä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸¤ä¸ªå˜é‡ç”¨äºé€‚é…ä¸åŒä¸»é¢˜ï¼Œé»˜è®¤çš„ç™½è‰²ä¸»é¢˜ï¼Œä¼šä½¿ç”¨rootä¸­çš„ä¸¤ä¸ªé¢œè‰²ï¼Œå½“åˆ‡æ¢åˆ°darkæ—¶ï¼Œä¼šä½¿ç”¨.darkä¸­å®šä¹‰çš„é¢œè‰²</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://zanksc.github.io/tags/hugo/">Hugo</a></li>
      <li><a href="https://zanksc.github.io/tags/papermod/">PaperMod</a></li>
      <li><a href="https://zanksc.github.io/tags/%E5%BB%BA%E7%AB%99/">å»ºç«™</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://zanksc.github.io/2024/01/01/hugo-3/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>ã€Hugoã€‘ä½“éªŒç¯‡ï¼šObsidianå†™ä½œ</span>
  </a>
  <a class="next" href="https://zanksc.github.io/2024/01/01/hugo-1/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>ã€Hugoã€‘åŸºç¡€ç¯‡ï¼šä¸ªäººåšå®¢æ­å»º</span>
  </a>
</nav>

  </footer><div class="comments-title" id="tw-comment-title">
    <p class="x-comments-title">æ¬¢è¿æ¥åˆ°è¯„è®ºåŒº</p>
    <p style="font-size: 1rem">æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼å¦‚éœ€äº¤æµï¼Œè¯·ç•™ä¸ªè¯„è®ºå§ï¼ </p>
</div>



<div>
    
    <div id="tcomment"></div>
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.40/dist/twikoo.all.min.js"></script>
    <script>
    twikoo.init({
      envId: 'https://zanks-twikoo.netlify.app/.netlify/functions/twikoo', 
      el: '#tcomment', 
      
      
      
    })
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://zanksc.github.io/">ä¹±è¯ä¸‰åƒ</a></span> Â· 
    
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
